import{e as I,c as V}from"./subclass-f7409b1b.js";import{b as S}from"./Error-21d1d076.js";import{y as N}from"./JSONSupport-acf2865c.js";import{a as yt}from"./typedArrayUtil-2af43698.js";import{r as Y,f as Q}from"./SpatialReference-428523ee.js";import{n as J,M as G,x as v,p as xt,g as dt,f as It}from"./Extent-2b4578b8.js";import{i as U,c as X,u as tt,b as vt}from"./aaBoundingRect-aef00841.js";function _(t,e,n=!1){let{hasM:s,hasZ:i}=t;Array.isArray(e)?e.length!==4||s||i?e.length===3&&n&&!s?(i=!0,s=!1):e.length===3&&s&&i&&(s=!1,i=!1):(s=!0,i=!0):(i=!i&&e.hasZ&&(!s||e.hasM),s=!s&&e.hasM&&(!i||e.hasZ)),t.hasZ=i,t.hasM=s}var E;function K(t){return(e,n)=>e==null?n:n==null?e:t(e,n)}function Pt(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let $=E=class extends J{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){var i;if(!t&&!e)return{};const n={};Array.isArray(t)?(n.points=t,n.spatialReference=e):Pt(t)?n.spatialReference=t:(t.points&&(n.points=t.points),t.spatialReference&&(n.spatialReference=t.spatialReference),t.hasZ&&(n.hasZ=t.hasZ),t.hasM&&(n.hasM=t.hasM));const s=(i=n.points)==null?void 0:i[0];return s&&(n.hasZ===void 0&&n.hasM===void 0?(n.hasZ=s.length>2,n.hasM=!1):n.hasZ===void 0?n.hasZ=s.length>3:n.hasM===void 0&&(n.hasM=s.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new G,n=this.hasZ,s=this.hasM,i=n?3:2,r=t[0],a=K(Math.min),o=K(Math.max);let c,l,u,h,[f,p]=r,[y,m]=r;for(let g=0,d=t.length;g<d;g++){const x=t[g],[P,w]=x;if(f=a(f,P),p=a(p,w),y=o(y,P),m=o(m,w),n&&x.length>2){const R=x[2];c=a(c,R),u=o(u,R)}if(s&&x.length>i){const R=x[i];l=a(l,R),h=o(h,R)}}return e.xmin=f,e.ymin=p,e.xmax=y,e.ymax=m,e.spatialReference=this.spatialReference,n?(e.zmin=c,e.zmax=u):(e.zmin=void 0,e.zmax=void 0),s?(e.mmin=l,e.mmax=h):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=S(this.points)}addPoint(t){return _(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:S(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new E(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],n={x:e[0],y:e[1],spatialReference:this.spatialReference};let s=2;return this.hasZ&&(n.z=e[2],s=3),this.hasM&&(n.m=e[s]),new v(n)}removePoint(t){if(!this._validateInputs(t))return null;const e=new v(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(_(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};I([N({readOnly:!0})],$.prototype,"cache",null),I([N()],$.prototype,"extent",null),I([N({type:[[Number]],json:{write:{isRequired:!0}}})],$.prototype,"points",void 0),I([Y("points")],$.prototype,"writePoints",null),$=E=I([V("esri.geometry.Multipoint")],$),$.prototype.toJSON.isDefaultToJSON=!0;const Bt=$;function Ht(t){const e=[];for(t.reset();t.nextPath();){const n=[];for(;t.nextPoint();)n.push([t.x,t.y]);e.push(n)}return t.reset(),e}function Rt(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}function Kt(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function Nt(t){return t?Mt(t.rings,t.hasZ??!1):null}function Mt(t,e){if(!(t!=null&&t.length))return null;const n=[],s=[],i=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let r=0,a=t.length;r<a;r++){const o=et(t[r],e,i);o&&s.push(o)}if(s.sort((r,a)=>{let o=r[2]-a[2];return o===0&&e&&(o=r[4]-a[4]),o}),s.length&&(n[0]=s[0][0],n[1]=s[0][1],e&&(n[2]=s[0][3]),(n[0]<i[0]||n[0]>i[1]||n[1]<i[2]||n[1]>i[3]||e&&(n[2]<i[4]||n[2]>i[5]))&&(n.length=0)),!n.length){const r=t[0]&&t[0].length?$t(t[0],e):null;if(!r)return null;n[0]=r[0],n[1]=r[1],e&&r.length>2&&(n[2]=r[2])}return n}function et(t,e,n){let s=0,i=0,r=0,a=0,o=0;const c=t.length?t[0][0]:0,l=t.length?t[0][1]:0,u=t.length&&e?t[0][2]:0;for(let f=0;f<t.length;f++){const p=t[f],y=t[(f+1)%t.length],[m,g,d]=p,x=m-c,P=g-l,[w,R,gt]=y,C=w-c,D=R-l,b=x*D-C*P;if(a+=b,s+=(x+C)*b,i+=(P+D)*b,e&&p.length>2&&y.length>2){const W=d-u,B=gt-u,H=x*B-C*W;r+=(W+B)*H,o+=H}m<n[0]&&(n[0]=m),m>n[1]&&(n[1]=m),g<n[2]&&(n[2]=g),g>n[3]&&(n[3]=g),e&&(d<n[4]&&(n[4]=d),d>n[5]&&(n[5]=d))}if(a>0&&(a*=-1),o>0&&(o*=-1),!a)return null;a*=.5,o*=.5;const h=[s/(6*a)+c,i/(6*a)+l,a];return e&&(n[4]===n[5]||o===0?(h[3]=(n[4]+n[5])/2,h[4]=0):(h[3]=r/(6*o)+u,h[4]=o)),h}function Lt(t,e){let n=0,s=0,i=0;t.nextPoint();const r=t.pathSize?t.x:0,a=t.pathSize?t.y:0;for(let o=0;o<t.pathSize;o++){t.seekInPath(o);const c=[t.x,t.y];t.seekInPath((o+1)%t.pathSize);const l=[t.x,t.y],[u,h]=c,f=u-r,p=h-a,[y,m]=l,g=y-r,d=m-a,x=f*d-g*p;i+=x,n+=(f+g)*x,s+=(p+d)*x,u<e[0]&&(e[0]=u),u>e[1]&&(e[1]=u),h<e[2]&&(e[2]=h),h>e[3]&&(e[3]=h)}return i>0&&(i*=-1),i?(i*=.5,[n/(6*i)+r,s/(6*i)+a,i]):null}function $t(t,e){const n=e?[0,0,0]:[0,0],s=e?[0,0,0]:[0,0];let i=0,r=0,a=0,o=0;for(let c=0,l=t.length;c<l-1;c++){const u=t[c],h=t[c+1];if(u&&h){n[0]=u[0],n[1]=u[1],s[0]=h[0],s[1]=h[1],e&&u.length>2&&h.length>2&&(n[2]=u[2],s[2]=h[2]);const f=U(n,s);if(f){i+=f;const p=X(u,h);r+=f*p[0],a+=f*p[1],e&&p.length>2&&(o+=f*p[2])}}}return i>0?e?[r/i,a/i,o/i]:[r/i,a/i]:t.length?t[0]:null}function At(t){const{hasZ:e,totalSize:n}=t;if(n===0)return null;const s=[],i=[],r=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const a=et(Rt(t),t.hasZ,r);a&&i.push(a)}if(i.sort((a,o)=>{let c=a[2]-o[2];return c===0&&e&&(c=a[4]-o[4]),c}),i.length&&(s[0]=i[0][0],s[1]=i[0][1],e&&(s[2]=i[0][3]),(s[0]<r[0]||s[0]>r[1]||s[1]<r[2]||s[1]>r[3]||e&&(s[2]<r[4]||s[2]>r[5]))&&(s.length=0)),!s.length){t.reset(),t.nextPath();const a=t.pathSize?Zt(t):null;if(!a)return null;s[0]=a[0],s[1]=a[1],e&&a.length>2&&(s[2]=a[2])}return s}function Zt(t){const{hasZ:e}=t,n=e?[0,0,0]:[0,0],s=e?[0,0,0]:[0,0];let i=0,r=0,a=0,o=0;if(t.nextPoint()){let c=t.x,l=t.y,u=t.z;for(;t.nextPoint();){const h=t.x,f=t.y,p=t.z;n[0]=c,n[1]=l,s[0]=h,s[1]=f,e&&(n[2]=u,s[2]=p);const y=U(n,s);if(y){i+=y;const m=X(n,s);r+=y*m[0],a+=y*m[1],e&&m.length>2&&(o+=y*m[2])}c=h,l=f,u=p}}return i>0?e?[r/i,a/i,o/i]:[r/i,a/i]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const zt=1e-6;function Qt(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<zt){const i=At(t);return i?[i[0],i[1]]:null}const n=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const s=[t.x,t.y];for(t.reset();t.nextPath();)St(n,s,t);return n[0]*=1/e,n[1]*=1/e,n[0]+=s[0],n[1]+=s[1],n}const wt=1/3;function St(t,e,n){if(!t||!n||n.pathSize<3)return null;n.nextPoint();const s=n.x,i=n.y;n.nextPoint();let r,a=n.x-s,o=n.y-i,c=0,l=0;for(;n.nextPoint();)c=n.x-s,l=n.y-i,r=.5*wt*(c*o-l*a),t[0]+=r*(a+c),t[1]+=r*(o+l),a=c,o=l;const u=n.getCurrentRingArea(),h=[s,i];return h[0]-=e[0],h[1]-=e[1],h[0]*=u,h[1]*=u,t[0]+=h[0],t[1]+=h[1],t}function nt(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function it(t){return t.points!==void 0}function st(t){return t.x!==void 0&&t.y!==void 0}function rt(t){return t.paths!==void 0}function at(t){return t.rings!==void 0}function ot(t){function e(n,s){return n==null?s:s==null?n:t(n,s)}return e}const Z=ot(Math.min),z=ot(Math.max);function Ut(t,e){return rt(e)?T(t,e.paths,!1,!1):at(e)?T(t,e.rings,!1,!1):it(e)?k(t,e.points,!1,!1,!1,!1):nt(e)?ht(t,e):(st(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function Xt(t){let e,n,s,i;for(t.reset(),e=s=1/0,n=i=-1/0;t.nextPath();){const r=_t(t);e=Math.min(r[0],e),s=Math.min(r[1],s),n=Math.max(r[2],n),i=Math.max(r[3],i)}return tt([e,s,n,i])}function _t(t){let e,n,s,i;for(e=s=1/0,n=i=-1/0;t.nextPoint();)e=Math.min(t.x,e),s=Math.min(t.y,s),n=Math.max(t.x,n),i=Math.max(t.y,i);return tt([e,s,n,i])}function te(t,e){return rt(e)?T(t,e.paths,!0,!1):at(e)?T(t,e.rings,!0,!1):it(e)?k(t,e.points,!0,!1,!0,!1):nt(e)?ht(t,e,!0,!1,!0,!1):(st(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function T(t,e,n,s){const i=n?3:2;if(!e.length||!e[0].length)return null;let r,a,o,c,[l,u]=e[0][0],[h,f]=e[0][0];for(let p=0;p<e.length;p++){const y=e[p];for(let m=0;m<y.length;m++){const g=y[m],[d,x]=g;if(l=Z(l,d),u=Z(u,x),h=z(h,d),f=z(f,x),n&&g.length>2){const P=g[2];r=Z(r,P),a=z(a,P)}if(s&&g.length>i){const P=g[i];o=Z(r,P),c=z(a,P)}}}return n?s?(t[0]=l,t[1]=u,t[2]=r,t[3]=o,t[4]=h,t[5]=f,t[6]=a,t[7]=c,t.length=8,t):(t[0]=l,t[1]=u,t[2]=r,t[3]=h,t[4]=f,t[5]=a,t.length=6,t):s?(t[0]=l,t[1]=u,t[2]=o,t[3]=h,t[4]=f,t[5]=c,t.length=6,t):(t[0]=l,t[1]=u,t[2]=h,t[3]=f,t.length=4,t)}function ht(t,e,n,s,i,r){const a=e.xmin,o=e.xmax,c=e.ymin,l=e.ymax;let u=e.zmin,h=e.zmax,f=e.mmin,p=e.mmax;return i?(u=u||0,h=h||0,r?(f=f||0,p=p||0,t[0]=a,t[1]=c,t[2]=u,t[3]=f,t[4]=o,t[5]=l,t[6]=h,t[7]=p,t):(t[0]=a,t[1]=c,t[2]=u,t[3]=o,t[4]=l,t[5]=h,t)):r?(f=f||0,p=p||0,t[0]=a,t[1]=c,t[2]=f,t[3]=o,t[4]=l,t[5]=p,t):(t[0]=a,t[1]=c,t[2]=o,t[3]=l,t)}function k(t,e,n,s,i,r){const a=n?3:2,o=s&&r,c=n&&i;if(!e.length||!e[0].length)return null;let l,u,h,f,[p,y]=e[0],[m,g]=e[0];for(let d=0;d<e.length;d++){const x=e[d],[P,w]=x;if(p=Z(p,P),y=Z(y,w),m=z(m,P),g=z(g,w),c&&x.length>2){const R=x[2];l=Z(l,R),u=z(u,R)}if(o&&x.length>a){const R=x[a];h=Z(l,R),f=z(u,R)}}return i?(l=l||0,u=u||0,r?(h=h||0,f=f||0,t[0]=p,t[1]=y,t[2]=l,t[3]=h,t[4]=m,t[5]=g,t[6]=u,t[7]=f,t):(t[0]=p,t[1]=y,t[2]=l,t[3]=m,t[4]=g,t[5]=u,t)):r?(h=h||0,f=f||0,t[0]=p,t[1]=y,t[2]=h,t[3]=m,t[4]=g,t[5]=f,t):(t[0]=p,t[1]=y,t[2]=m,t[3]=g,t)}function Tt(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function Ot(t){return t.points!==void 0}function Ct(t){return t.x!==void 0&&t.y!==void 0}function bt(t){return t.paths!==void 0}function Et(t){return t.rings!==void 0}const q=[];function lt(t,e,n,s){return{xmin:t,ymin:e,xmax:n,ymax:s}}function ut(t,e,n,s,i,r){return{xmin:t,ymin:e,zmin:n,xmax:s,ymax:i,zmax:r}}function ct(t,e,n,s,i,r){return{xmin:t,ymin:e,mmin:n,xmax:s,ymax:i,mmax:r}}function ft(t,e,n,s,i,r,a,o){return{xmin:t,ymin:e,zmin:n,mmin:s,xmax:i,ymax:r,zmax:a,mmax:o}}function j(t,e=!1,n=!1){return e?n?ft(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):ut(t[0],t[1],t[2],t[3],t[4],t[5]):n?ct(t[0],t[1],t[2],t[3],t[4],t[5]):lt(t[0],t[1],t[2],t[3])}function ee(t){return t?Tt(t)?t:Ct(t)?Vt(t):Et(t)?pt(t):bt(t)?mt(t):Ot(t)?Ft(t):null:null}function Ft(t){const{hasZ:e,hasM:n,points:s}=t;return j(k(q,s,e??!1,n??!1),e,n)}function Vt(t){const{x:e,y:n,z:s,m:i}=t,r=i!=null;return s!=null?r?ft(e,n,s,i,e,n,s,i):ut(e,n,s,e,n,s):r?ct(e,n,i,e,n,i):lt(e,n,e,n)}function pt(t){const{hasZ:e,hasM:n,rings:s}=t,i=T(q,s,e??!1,n??!1);return i?j(i,e,n):null}function mt(t){const{hasZ:e,hasM:n,paths:s}=t,i=T(q,s,e??!1,n??!1);return i?j(i,e,n):null}var O;function L(t){return!Array.isArray(t[0])}let M=O=class extends J{static fromExtent(t){const e=t.clone().normalize(),n=t.spatialReference;let s=!1,i=!1;for(const a of e)a.hasZ&&(s=!0),a.hasM&&(i=!0);const r={rings:e.map(a=>{const o=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(s&&a.hasZ){const c=a.zmin+.5*(a.zmax-a.zmin);for(let l=0;l<o.length;l++)o[l].push(c)}if(i&&a.hasM){const c=a.mmin+.5*(a.mmax-a.mmin);for(let l=0;l<o.length;l++)o[l].push(c)}return o}),spatialReference:n};return s&&(r.hasZ=!0),i&&(r.hasM=!0),new O(r)}constructor(...t){super(...t),this.rings=[],this.type="polygon"}normalizeCtorArgs(t,e){var a,o;let n,s,i=null,r=null;return t&&!Array.isArray(t)?(i=t.rings??null,e||(t.spatialReference?e=t.spatialReference:t.rings||(e=t)),n=t.hasZ,s=t.hasM):i=t,i=i||[],e=e||Q.WGS84,i.length&&((a=i[0])==null?void 0:a[0])!=null&&typeof i[0][0]=="number"&&(i=[i]),r=(o=i[0])==null?void 0:o[0],r&&(n===void 0&&s===void 0?(n=r.length>2,s=r.length>3):n===void 0?n=s?r.length>3:r.length>2:s===void 0&&(s=n?r.length>3:r.length>2)),{rings:i,spatialReference:e,hasZ:n,hasM:s}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=Nt(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new v;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=pt(this);if(!e)return null;const n=new G(e);return n.spatialReference=t,n}get isSelfIntersecting(){return xt(this.rings)}writeRings(t,e){e.rings=S(this.rings)}addRing(t){if(!t)return;const e=this.rings,n=e.length;if(L(t)){const s=[];for(let i=0,r=t.length;i<r;i++)s[i]=t[i].toArray();e[n]=s}else e[n]=t.concat();return this.notifyChange("rings"),this}clone(){const t=new O;return t.spatialReference=this.spatialReference,t.rings=S(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;if(e!=null!=(n!=null)||e!=null&&n!=null&&!e.equals(n)||this.rings.length!==t.rings.length)return!1;const s=([i,r,a,o],[c,l,u,h])=>i===c&&r===l&&(a==null&&u==null||a===u)&&(o==null&&h==null||o===h);for(let i=0;i<this.rings.length;i++){const r=this.rings[i],a=t.rings[i];if(!yt(r,a,s))return!1}return!0}contains(t){if(!t)return!1;const e=dt(t,this.spatialReference);return It(this,e??t)}isClockwise(t){let e;return e=L(t)?t.map(n=>this.hasZ?this.hasM?[n.x,n.y,n.z,n.m]:[n.x,n.y,n.z]:[n.x,n.y]):t,vt(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.rings[t][e],s=this.hasZ,i=this.hasM;return s&&!i?new v(n[0],n[1],n[2],void 0,this.spatialReference):i&&!s?new v(n[0],n[1],void 0,n[2],this.spatialReference):s&&i?new v(n[0],n[1],n[2],n[3],this.spatialReference):new v(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(_(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t].splice(e,0,n),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new v(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],n=this.spatialReference,s=e.map(i=>new v(i,n));return this.notifyChange("rings"),s}setPoint(t,e,n){return this._validateInputs(t,e)?(_(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t][e]=n,this.notifyChange("rings"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const s=this.rings[t];if(n&&(e<0||e>s.length)||!n&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};I([N({readOnly:!0})],M.prototype,"cache",null),I([N({readOnly:!0})],M.prototype,"centroid",null),I([N({readOnly:!0})],M.prototype,"extent",null),I([N({readOnly:!0})],M.prototype,"isSelfIntersecting",null),I([N({type:[[[Number]]],json:{write:{isRequired:!0}}})],M.prototype,"rings",void 0),I([Y("rings")],M.prototype,"writeRings",null),M=O=I([V("esri.geometry.Polygon")],M),M.prototype.toJSON.isDefaultToJSON=!0;const ne=M;var F;function Yt(t){return!Array.isArray(t[0])}let A=F=class extends J{constructor(...t){super(...t),this.paths=[],this.type="polyline"}normalizeCtorArgs(t,e){var a,o;let n,s,i=null,r=null;return t&&!Array.isArray(t)?(i=t.paths??null,e||(t.spatialReference?e=t.spatialReference:t.paths||(e=t)),n=t.hasZ,s=t.hasM):i=t,i=i||[],e=e||Q.WGS84,i.length&&((a=i[0])==null?void 0:a[0])!=null&&typeof i[0][0]=="number"&&(i=[i]),r=(o=i[0])==null?void 0:o[0],r&&(n===void 0&&s===void 0?(n=r.length>2,s=!1):n===void 0?n=!s&&r.length>3:s===void 0&&(s=!n&&r.length>3)),{paths:i,spatialReference:e,hasZ:n,hasM:s}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=mt(this);if(!e)return null;const n=new G(e);return n.spatialReference=t,n}writePaths(t,e){e.paths=S(this.paths)}addPath(t){if(!t)return;const e=this.paths,n=e.length;if(Yt(t)){const s=[];for(let i=0,r=t.length;i<r;i++)s[i]=t[i].toArray();e[n]=s}else e[n]=t.concat();return this.notifyChange("paths"),this}clone(){const t=new F;return t.spatialReference=this.spatialReference,t.paths=S(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.paths[t][e],s=this.hasZ,i=this.hasM;return s&&!i?new v(n[0],n[1],n[2],void 0,this.spatialReference):i&&!s?new v(n[0],n[1],void 0,n[2],this.spatialReference):s&&i?new v(n[0],n[1],n[2],n[3],this.spatialReference):new v(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(_(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t].splice(e,0,n),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],n=this.spatialReference,s=e.map(i=>new v(i,n));return this.notifyChange("paths"),s}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new v(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(t,e,n){return this._validateInputs(t,e)?(_(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t][e]=n,this.notifyChange("paths"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const s=this.paths[t];if(n&&(e<0||e>s.length)||!n&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};I([N({readOnly:!0})],A.prototype,"cache",null),I([N({readOnly:!0})],A.prototype,"extent",null),I([N({type:[[[Number]]],json:{write:{isRequired:!0}}})],A.prototype,"paths",void 0),I([Y("paths")],A.prototype,"writePaths",null),A=F=I([V("esri.geometry.Polyline")],A),A.prototype.toJSON.isDefaultToJSON=!0;const ie=A;export{Ut as a,Qt as b,Xt as c,ee as d,te as e,_t as f,Lt as i,ne as j,Nt as l,ie as m,Rt as n,Mt as o,Kt as r,Ht as t,Bt as u,pt as v};
