import{e as r}from"./promiseUtils-1d963c7c.js";let o;var c,a;const u=((c=globalThis.esriConfig)==null?void 0:c.locale)??((a=globalThis.dojoConfig)==null?void 0:a.locale);function s(){var n;return u??((n=globalThis.navigator)==null?void 0:n.language)??"en"}function f(){return o===void 0&&(o=s()),o}function d(n=f()){const e=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(n);return e==null?void 0:e[1].toLowerCase()}const l=[];function p(n){return l.push(n),r(()=>l.splice(l.indexOf(n),1))}const t=[];function b(n){return t.push(n),r(()=>l.splice(t.indexOf(n),1))}function g(){const n=s();o!==n&&(o=n,[...t].forEach(e=>{e.call(null,n)}),[...l].forEach(e=>{e.call(null,n)}))}var i;(i=globalThis.addEventListener)==null||i.call(globalThis,"languagechange",g);export{f as c,p as f,b as h,d as r};
