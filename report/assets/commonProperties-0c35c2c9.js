import{c as f}from"./TimeExtent-579f0e32.js";import{M as u}from"./Extent-2b4578b8.js";import{f as b}from"./SpatialReference-428523ee.js";import{f as v}from"./persistableUrlUtils-ca6bb38d.js";import"./typedArrayUtil-2af43698.js";import{o as s}from"./timeUtils-24502426.js";import{h as j}from"./ElevationInfo-e9f55e40.js";import{r as c}from"./opacityUtils-f0a081b4.js";const t=(n=>n)(["operational-layers","basemap","ground"]);function T(n){if(!n)return n;const{start:e,end:r}=n;return new f({start:e!=null?s(e,-e.getTimezoneOffset(),"minutes"):e,end:r!=null?s(r,-r.getTimezoneOffset(),"minutes"):r})}function I(n){if(!n)return n;const{start:e,end:r}=n;return new f({start:e!=null?s(e,e.getTimezoneOffset(),"minutes"):e,end:r!=null?s(r,r.getTimezoneOffset(),"minutes"):r})}const R={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:t}}},E={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(n,e)=>!e.disablePopup},write:{enabled:!0,writer(n,e,r){e[r]=!n}}}},B={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:t}}},$={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:v}}},P={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:t}}},q={value:null,type:j,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:t}}};function J(n){return{type:n,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const g={write:{enabled:!0,layerContainerTypes:t},read:!0},w={type:Number,json:{origins:{"web-document":g,"portal-item":{write:!0}}}},L={...w,json:{...w.json,origins:{"web-document":{...g,write:{enabled:!0,layerContainerTypes:t,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(n,e,r)=>{var o;return r&&r.origin!=="service"||!e.drawingInfo||e.drawingInfo.transparency===void 0?(o=e.layerDefinition)!=null&&o.drawingInfo&&e.layerDefinition.drawingInfo.transparency!==void 0?c(e.layerDefinition.drawingInfo.transparency):void 0:c(e.drawingInfo.transparency)}}}},k={type:f,readOnly:!0,get(){var p,y,d;const n=((p=this.layer)==null?void 0:p.timeInfo)!=null?this.layer:((y=this.i3slayer)==null?void 0:y.timeInfo)!=null?this.i3slayer:null;if(n==null)return null;const{datesInUnknownTimezone:e,timeOffset:r,useViewTime:o}=n,l=(d=this.view)==null?void 0:d.timeExtent;let a=n.timeExtent;e&&(a=I(a));let i=o?l&&a?l.intersection(a):l||a:a;if(!i||i.isEmpty||i.isAllTime)return i;r&&(i=i.offset(-r.value,r.unit)),e&&(i=T(i));const m=this._get("timeExtent");return i.equals(m)?m:i}},A={type:u,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(n,e)=>{const r=u.fromJSON(n);return e.spatialReference!=null&&typeof e.spatialReference=="object"&&(r.spatialReference=b.fromJSON(e.spatialReference)),r}}}},read:!1}},M={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},U={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:t}}},name:"layerDefinition.minScale",write:!0}},V={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:t}}},name:"layerDefinition.maxScale",write:!0}},_={json:{write:{ignoreOrigin:!0,layerContainerTypes:t},origins:{"web-map":{read:!1,write:!1}}}};export{_ as C,M as I,V as S,U as T,t as a,L as b,P as c,$ as d,q as f,w as g,k as j,B as m,R as p,A as v,J as w,E as y};
