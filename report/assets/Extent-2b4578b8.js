import{e as u,c as se,a as pe}from"./subclass-f7409b1b.js";import{b as X,s as T,r as de}from"./Error-21d1d076.js";import{x as ge,y as c,f as ze}from"./JSONSupport-acf2865c.js";import"./typedArrayUtil-2af43698.js";import{f as z,G as re,w as ee,C as te,c as q,r as Me,s as V}from"./SpatialReference-428523ee.js";import{s as we}from"./cast-e7a2f9aa.js";function le(e,t,i){let r,s;return t===void 0||Array.isArray(t)?(s=e,i=t,r=[void 0]):(s=t,r=Array.isArray(e)?e:[e]),(n,a)=>{const m=n.constructor.prototype;r.forEach(o=>{const h=ge(n,o,s);h.read&&typeof h.read=="object"||(h.read={}),h.read.reader=m[a],i&&(h.read.source=(h.read.source||[]).concat(i))})}}let w=class extends ze{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=z.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof z)return t;if(t!=null){const r=new z;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};u([c()],w.prototype,"type",void 0),u([c({readOnly:!0})],w.prototype,"cache",null),u([c({readOnly:!0})],w.prototype,"extent",null),u([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],w.prototype,"hasM",void 0),u([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],w.prototype,"hasZ",void 0),u([c({type:z,json:{write:!0},value:z.WGS84})],w.prototype,"spatialReference",void 0),u([le("spatialReference")],w.prototype,"readSpatialReference",null),w=u([se("esri.geometry.Geometry")],w);const ue=w;function be(e,t){const i=e.x-t.x,r=e.y-t.y,s=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(i*i+r*r+s*s)}const Re=57.29577951308232,ve=.017453292519943;function ae(e){return e*Re}function oe(e){return e*ve}function De(e){return Math.PI/2-2*Math.atan(Math.exp(-e/q.radius))}function ie(e){return e.wkid!=null||e.wkt!=null}const K=[0,0];function H(e,t,i,r,s){const n=e,a=s;if(a.spatialReference=i,"x"in n&&"x"in a)[a.x,a.y]=t(n.x,n.y,K,r);else if("xmin"in n&&"xmin"in a)[a.xmin,a.ymin]=t(n.xmin,n.ymin,K,r),[a.xmax,a.ymax]=t(n.xmax,n.ymax,K,r);else if("paths"in n&&"paths"in a||"rings"in n&&"rings"in a){const m="paths"in n?n.paths:n.rings,o=[];let h;for(let l=0;l<m.length;l++){const x=m[l];h=[],o.push(h);for(let y=0;y<x.length;y++)h.push(t(x[y][0],x[y][1],[0,0],r)),x[y].length>2&&h[y].push(x[y][2]),x[y].length>3&&h[y].push(x[y][3])}"paths"in a?a.paths=o:a.rings=o}else if("points"in n&&"points"in a){const m=n.points,o=[];for(let h=0;h<m.length;h++)o[h]=t(m[h][0],m[h][1],[0,0],r),m[h].length>2&&o[h].push(m[h][2]),m[h].length>3&&o[h].push(m[h][3]);a.points=o}return s}function Y(e,t){const i=e&&(ie(e)?e:e.spatialReference),r=t&&(ie(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!re(r,i)||ee(r)&&te(i)||ee(i)&&te(r))}function Ve(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(ie(t)?t:t.spatialReference);return Y(i,r)?re(i,r)?X(e):ee(r)?H(e,O,z.WebMercator,!1,X(e)):te(r)?H(e,k,z.WGS84,!1,X(e)):null:null}function O(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=oe(t);return i[0]=oe(e)*q.radius,i[1]=q.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function k(e,t,i=[0,0],r=!1){const s=ae(e/q.radius);return i[0]=r?s:s-360*Math.floor((s+180)/360),i[1]=ae(Math.PI/2-2*Math.atan(Math.exp(-t/q.radius))),i}function Q(e,t=!1,i=X(e)){return H(e,O,z.WebMercator,t,i)}function D(e,t=!1,i=X(e)){return H(e,k,z.WGS84,t,i)}var F;const I=[0,0];function he(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let d=F=class extends ue{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,s){let n;if(Array.isArray(e))n=e,s=t,e=n[0],t=n[1],i=n[2],r=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,i=n.z,r=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new z(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)T.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)T.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&s&&s.isWebMercator){const m=O(n.longitude,n.latitude,I);e=m[0],t=m[1]}}}else he(i)?(s=i,i=null):he(r)&&(s=r,r=null);const a={x:e,y:t};return a.x==null&&a.y!=null?T.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&T.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(a.spatialReference=s),i!=null&&(a.z=i),r!=null&&(a.m=r),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:i}=this;if(e){if(e.isWebMercator)return k(t,i,I)[1];if(e.isGeographic)return i}return null}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",O(i,e,I)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:i}=this;if(i){if(i.isWebMercator)return k(e,t,I)[0];if(i.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",O(e,t,I)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new F;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return F.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:s,spatialReference:n}=this,{z:a,m}=e;let{x:o,y:h,spatialReference:l}=e;if(!n.equals(l))if(n.isWebMercator&&l.isWGS84)[o,h]=O(o,h),l=n;else{if(!n.isWGS84||!l.isWebMercator)return!1;[o,h]=k(o,h),l=n}return t===o&&i===h&&r===a&&s===m&&n.wkid===l.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=V(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,s=2*r;let n;return t>r?(n=Math.ceil(Math.abs(t-r)/s),t-=n*s):t<i&&(n=Math.ceil(Math.abs(t-i)/s),t+=n*s),this._set("x",t),this}distance(e){return be(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};u([c({readOnly:!0})],d.prototype,"cache",null),u([c({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasM",null),u([c({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],d.prototype,"hasZ",null),u([c({type:Number})],d.prototype,"latitude",null),u([c({type:Number})],d.prototype,"longitude",null),u([c({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),we(e=>isNaN(e)?e:pe(e))],d.prototype,"x",void 0),u([Me("x")],d.prototype,"writeX",null),u([le("x")],d.prototype,"readX",null),u([c({type:Number,json:{write:!0}})],d.prototype,"y",void 0),u([c({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],d.prototype,"z",void 0),u([c({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],d.prototype,"m",void 0),d=F=u([se("esri.geometry.Point")],d),d.prototype.toJSON.isDefaultToJSON=!0;const _e=d,U=[0,0];function ce(e,t){return t!=null&&g(e,t.x,t.y,t.z)}function Ye(e,t){if(!t.points||t.points.length)return!1;for(const i of t.points)if(!A(e,i))return!1;return!0}function $e(e,t){const{xmin:i,ymin:r,zmin:s,xmax:n,ymax:a,zmax:m}=t;return e.hasZ&&t.hasZ?g(e,i,r,s)&&g(e,i,a,s)&&g(e,n,a,s)&&g(e,n,r,s)&&g(e,i,r,m)&&g(e,i,a,m)&&g(e,n,a,m)&&g(e,n,r,m):g(e,i,r)&&g(e,i,a)&&g(e,n,a)&&g(e,n,r)}function A(e,t){return g(e,t[0],t[1])}function Pe(e,t){return g(e,t[0],t[1],t[2])}function g(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function Fe(e,t){return U[1]=t.y,U[0]=t.x,Ze(e,U)}function Ze(e,t){return xe(e.rings,t)}function xe(e,t){if(!e)return!1;if(Ne(e))return me(!1,e,t);let i=!1;for(let r=0,s=e.length;r<s;r++)i=me(i,e[r],t);return i}function Ne(e){return!Array.isArray(e[0][0])}function me(e,t,i){const[r,s]=i;let n=e,a=0;for(let m=0,o=t.length;m<o;m++){a++,a===o&&(a=0);const[h,l]=t[m],[x,y]=t[a];(l<s&&y>=s||y<s&&l>=s)&&h+(s-l)/(y-l)*(x-h)<r&&(n=!n)}return n}function je(e,t){return ce(e,t)}function Ge(e,t){const i=e.hasZ&&t.hasZ;let r,s,n;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function Se(e,t){const{points:i,hasZ:r}=t,s=r?Pe:A;for(const n of i)if(s(e,n))return!0;return!1}const N=[0,0],j=[0,0],G=[0,0],S=[0,0],We=[N,j,G,S],ye=[[G,N],[N,j],[j,S],[S,G]];function Ce(e,t){return Oe(e,t.rings)}function Oe(e,t){N[0]=e.xmin,N[1]=e.ymax,j[0]=e.xmax,j[1]=e.ymax,G[0]=e.xmin,G[1]=e.ymin,S[0]=e.xmax,S[1]=e.ymin;for(const i of We)if(xe(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(A(e,r))return!0;for(let s=1;s<i.length;s++){const n=i[s];if(A(e,n)||fe(r,n,ye))return!0;r=n}}return!1}function Ae(e,t){N[0]=e.xmin,N[1]=e.ymax,j[0]=e.xmax,j[1]=e.ymax,G[0]=e.xmin,G[1]=e.ymin,S[0]=e.xmax,S[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let s=r[0];if(A(e,s))return!0;for(let n=1;n<r.length;n++){const a=r[n];if(A(e,a)||fe(s,a,ye))return!0;s=a}}return!1}const p=[0,0];function He(e){for(let t=0;t<e.length;t++){const i=e[t];for(let s=0;s<i.length-1;s++){const n=i[s],a=i[s+1];for(let m=t+1;m<e.length;m++)for(let o=0;o<e[m].length-1;o++){const h=e[m][o],l=e[m][o+1];if(ne(n,a,h,l,p)&&!(p[0]===n[0]&&p[1]===n[1]||p[0]===h[0]&&p[1]===h[1]||p[0]===a[0]&&p[1]===a[1]||p[0]===l[0]&&p[1]===l[1]))return!0}}const r=i.length;if(!(r<=4))for(let s=0;s<r-3;s++){let n=r-1;s===0&&(n=r-2);const a=i[s],m=i[s+1];for(let o=s+2;o<n;o++){const h=i[o],l=i[o+1];if(ne(a,m,h,l,p)&&!(p[0]===a[0]&&p[1]===a[1]||p[0]===h[0]&&p[1]===h[1]||p[0]===m[0]&&p[1]===m[1]||p[0]===l[0]&&p[1]===l[1]))return!0}}}return!1}function fe(e,t,i){for(let r=0;r<i.length;r++)if(ne(e,t,i[r][0],i[r][1]))return!0;return!1}function ne(e,t,i,r,s){const[n,a]=e,[m,o]=t,[h,l]=i,[x,y]=r,b=x-h,R=n-h,v=m-n,_=y-l,J=a-l,W=o-a,Z=_*v-b*W;if(Z===0)return!1;const $=(b*J-_*R)/Z,C=(v*J-W*R)/Z;return $>=0&&$<=1&&C>=0&&C<=1&&(s&&(s[0]=n+$*(m-n),s[1]=a+$*(o-a)),!0)}function Ie(e){switch(e){case"esriGeometryEnvelope":case"extent":return Ge;case"esriGeometryMultipoint":case"multipoint":return Se;case"esriGeometryPoint":case"point":return je;case"esriGeometryPolygon":case"polygon":return Ce;case"esriGeometryPolyline":case"polyline":return Ae}}var M;function Xe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function P(e,t,i){return t==null?i:i==null?t:e(t,i)}let f=M=class extends ue{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,s){return Xe(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?z.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:s??z.WGS84}}static fromBounds(e,t){return new M({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new M({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new _e({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new M;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Y(t,i)&&(e=t.isWebMercator?Q(e):D(e,!0)),e.type==="point"?ce(this,e):e.type==="extent"&&$e(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Y(t,i)&&(e=t.isWebMercator?Q(e):D(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!re(t,i)&&Y(t,i)&&(e=t.isWebMercator?Q(e):D(e,!0)),Ie(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=P(Math.min,this.zmin,e.zmin),this.zmax=P(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=P(Math.min,this.mmin,e.mmin),this.mmax=P(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=P(Math.max,this.zmin,e.zmin),this.zmax=P(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=P(Math.max,this.mmin,e.mmin),this.mmax=P(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=V(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?D(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=this._normalizeX(r.x,e).x),this.spatialReference=new z(de((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,s=this.xmin,n=this.xmax;return s>=i&&s<=r&&n>=i&&n<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const s=i??V(r);if(s==null)return this;const n=this._getParts(s).map(o=>o.extent);if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return n;let a=!0,m=!0;return n.forEach(o=>{o.hasZ||(a=!1),o.hasM||(m=!1)}),{rings:n.map(o=>{const h=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(a){const l=(o.zmax-o.zmin)/2;for(let x=0;x<h.length;x++)h[x].push(l)}if(m){const l=(o.mmax-o.mmin)/2;for(let x=0;x<h.length;x++)h[x].push(l)}return h}),hasZ:a,hasM:m,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:n,spatialReference:a}=this,m=this.width,o=this.xmin,h=this.xmax;let l;e=e||V(a);const[x,y]=e.valid;l=this._normalizeX(this.xmin,e);const b=l.x,R=l.frameId;l=this._normalizeX(this.xmax,e);const v=l.x,_=l.frameId,J=b===v&&m>0;if(m>2*y){const W=new M(o<h?b:v,s,y,n,a),Z=new M(x,s,o<h?v:b,n,a),$=new M(0,s,y,n,a),C=new M(x,s,0,n,a),L=[],B=[];W.contains($)&&L.push(R),W.contains(C)&&B.push(R),Z.contains($)&&L.push(_),Z.contains(C)&&B.push(_);for(let E=R+1;E<_;E++)L.push(E),B.push(E);t.push({extent:W,frameIds:[R]},{extent:Z,frameIds:[_]},{extent:$,frameIds:L},{extent:C,frameIds:B})}else b>v||J?t.push({extent:new M(b,s,y,n,a),frameIds:[R]},{extent:new M(x,s,v,n,a),frameIds:[_]}):t.push({extent:new M(b,s,v,n,a),frameIds:[R]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),r&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(s)}return t}_normalizeX(e,t){const[i,r]=t.valid,s=2*r;let n,a=0;return e>r?(n=Math.ceil(Math.abs(e-r)/s),e-=n*s,a=n):e<i&&(n=Math.ceil(Math.abs(e-i)/s),e+=n*s,a=-n),{x:e,frameId:a}}};u([c({readOnly:!0})],f.prototype,"cache",null),u([c({readOnly:!0})],f.prototype,"center",null),u([c({readOnly:!0})],f.prototype,"extent",null),u([c({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasM",null),u([c({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasZ",null),u([c({readOnly:!0})],f.prototype,"height",null),u([c({readOnly:!0})],f.prototype,"width",null),u([c({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],f.prototype,"xmin",void 0),u([c({type:Number,json:{write:!0}})],f.prototype,"ymin",void 0),u([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],f.prototype,"mmin",void 0),u([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],f.prototype,"zmin",void 0),u([c({type:Number,json:{write:!0}})],f.prototype,"xmax",void 0),u([c({type:Number,json:{write:!0}})],f.prototype,"ymax",void 0),u([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],f.prototype,"mmax",void 0),u([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],f.prototype,"zmax",void 0),f=M=u([se("esri.geometry.Extent")],f),f.prototype.toJSON.isDefaultToJSON=!0;const Ke=f;export{ne as G,Ke as M,D as R,Ie as Z,O as a,Y as b,Ge as c,Q as d,Ce as e,Fe as f,Ve as g,De as h,ue as n,le as o,He as p,Ye as r,xe as s,ce as t,_e as x,k as y};
