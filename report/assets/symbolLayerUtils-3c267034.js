import{U as d,_ as v}from"./request-a10d6950.js";import{a as n}from"./Error-21d1d076.js";import{e as y}from"./LRUCache-000d0e19.js";import{n as u}from"./mathUtils-19b6edfc.js";import{F as c,i as w}from"./aaBoundingBox-7242ce3e.js";import{c as b}from"./symbolLayerUtils3D-5b91ffd6.js";import"./typedArrayUtil-2af43698.js";import"./JSONSupport-acf2865c.js";import"./subclass-f7409b1b.js";import"./promiseUtils-1d963c7c.js";import"./time-0817624a.js";import"./Extent-2b4578b8.js";import"./SpatialReference-428523ee.js";import"./jsonMap-5ba4a9c2.js";import"./assets-6fd92e57.js";import"./cast-e7a2f9aa.js";let s=p();function p(){return new y(50)}function C(){s=p()}async function D(e,o){var i,t;if((i=e.resource)!=null&&i.href)return _(e.resource.href).then(r=>[r.width,r.height]);if((t=e.resource)!=null&&t.primitive)return o!=null?[o,o]:[256,256];throw new n("symbol3d:invalid-symbol-layer","symbol layers of type Icon must have either an href or a primitive resource")}function _(e){return d(e,{responseType:"image"}).then(o=>o.data)}async function F(e,o=null){var t;if(!e.isPrimitive){const r=e.resource.href;if(!r)throw new n("symbol:invalid-resource","The symbol does not have a valid resource");const a=s.get(r);if(a!==void 0)return a;const{fetch:l}=await v(()=>import("./objectResourceUtils-46e037bc.js").then(h=>h.o),["./objectResourceUtils-46e037bc.js","./devEnvironmentUtils-4eab2a99.js","./mat3-def297a7.js","./mathUtils-19b6edfc.js","./mat3f64-e19cdcb8.js","./mat4-a6ac6b0f.js","./mat4f64-9a8384aa.js","./vec2f64-b65bfd66.js","./aaBoundingBox-7242ce3e.js","./Extent-2b4578b8.js","./subclass-f7409b1b.js","./typedArrayUtil-2af43698.js","./Error-21d1d076.js","./promiseUtils-1d963c7c.js","./JSONSupport-acf2865c.js","./time-0817624a.js","./SpatialReference-428523ee.js","./jsonMap-5ba4a9c2.js","./request-a10d6950.js","./assets-6fd92e57.js","./cast-e7a2f9aa.js","./BufferView-6e304e0e.js","./vec2-f44efd17.js","./vec42-a95eff2d.js","./vec3-10e9217f.js","./DefaultMaterial_COLOR_GAMMA-87fbf47f.js","./Evented-b5127116.js","./enums-52934aad.js","./Version-ef27dfc4.js","./quat-064ab1d0.js","./quatf64-81e039e4.js","./compilerUtils-7f5a3043.js","./resourceUtils-e5874b54.js","./basicInterfaces-11f56cb3.js","./Indices-968b5cdc.js","./vec2f32-afca0b62.js","./NestedMap-1b5db22e.js","./requestImageUtils-ee1d4707.js","./orientedBoundingBox-27e96351.js","./vec4f64-430e4feb.js","./computeTranslationToOriginAndRotation-3ac32984.js","./projectBuffer-af7b4ad9.js","./plane-f835f029.js","./ViewingMode-fb6259a5.js","./triangle-4b6d6bb2.js","./Util-5ae70216.js","./ObjectStack-80adc7e7.js","./lineSegment-9b648b01.js","./VertexAttribute-c2df436e.js","./Texture-c6ffe640.js","./InterleavedLayout-4bcbdca0.js","./types-1305598a.js","./OrderIndependentTransparency-58d01465.js","./BindType-d21d71dd.js","./sphere-25bb4446.js","./Axis-30be7e73.js","./doublePrecisionUtils-e3c3d0d8.js","./symbolColorUtils-ac5f37db.js","./lengthUtils-1e9c410b.js","./reactiveUtils-e7d9f86e.js","./Collection-aa6ef54b.js","./SimpleObservable-ae589a25.js","./RenderState-1d6218ee.js"],import.meta.url),f=await l(r,{disableTextures:!0}),m=c(f.referenceBoundingBox,u());return s.put(r,m),m}if(!((t=e.resource)!=null&&t.primitive))throw new n("symbol:invalid-resource","The symbol does not have a valid resource");const i=w(b(e.resource.primitive));if(o!=null)for(let r=0;r<i.length;r++)i[r]*=o;return c(i,u())}export{C as clearBoundingBoxCache,D as computeIconLayerResourceSize,F as computeObjectLayerResourceSize};
