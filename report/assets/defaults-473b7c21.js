import{r as f}from"./Error-21d1d076.js";import"./typedArrayUtil-2af43698.js";import{y as a,f as i,S as c,g as x}from"./TextSymbol-53669eb2.js";import{l as $,o as m,S as g,t as w,r as E,s as S,y}from"./defaultsJSON-b087dd4d.js";const r="__begin__",o="__end__",b=new RegExp(r,"ig"),N=new RegExp(o,"ig"),t=new RegExp("^"+r,"i"),l=new RegExp(o+"$","i"),s='"',R=s+" + ",_=" + "+s;function O(n){return n.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function B(n){return n.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function p(n){const e={expression:"",type:"none"};return n.labelExpressionInfo?n.labelExpressionInfo.value?(e.expression=n.labelExpressionInfo.value,e.type="conventional"):n.labelExpressionInfo.expression&&(e.expression=n.labelExpressionInfo.expression,e.type="arcade"):n.labelExpression!=null&&(e.expression=O(n.labelExpression),e.type="conventional"),e}function C(n){const e=p(n);if(!e)return null;switch(e.type){case"conventional":return J(e.expression);case"arcade":return e.expression}return null}function F(n){const e=p(n);if(!e)return null;switch(e.type){case"conventional":return A(e.expression);case"arcade":return D(e.expression)}return null}function J(n){let e;return n?(e=f(n,u=>r+'$feature["'+u+'"]'+o),e=t.test(e)?e.replace(t,""):s+e,e=l.test(e)?e.replace(l,""):e+s,e=e.replaceAll(b,R).replaceAll(N,_)):e='""',e}const v=/^\s*\{([^}]+)\}\s*$/i;function A(n){const e=n==null?void 0:n.match(v);return(e==null?void 0:e[1].trim())||null}const d=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,I=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,h=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function D(n){if(!n)return null;let e=d.exec(n)||I.exec(n);return e?e[1]||e[3]:(e=h.exec(n),e?e[2]:null)}const G=a.fromJSON($),H=i.fromJSON(m),K=c.fromJSON(g),L=x.fromJSON(w),M=a.fromJSON(E),P=i.fromJSON(S),Q=c.fromJSON(y);export{M as N,P as O,G as S,D as _,L as a,H as b,K as c,C as f,F as g,O as p,B as u,J as w,p as x,Q as y};
