import{f as J,a as f,m as j,l as b,e as T,S as L,b as $,o as W,L as D,r as V,s as C}from"./promiseUtils-1d963c7c.js";import{f as v}from"./subclass-f7409b1b.js";import{s as Q}from"./SimpleObservable-ae589a25.js";import{_ as a,i as B}from"./request-a10d6950.js";import{a as y}from"./Error-21d1d076.js";import{h as M}from"./typedArrayUtil-2af43698.js";const H="20240301",K="a93df9da562fc7a65201b235bcc4eee5367b63dc";let x=class{constructor(e=t=>t.values().next().value){this._peeker=e,this._observable=new Q,this._items=new Set}get length(){return v(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let e;for(e of this._items);return e}peek(){if(this.length!==0)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return v(this._observable),this._items.has(e)}pop(){if(this.length===0)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(this.length===0)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const t=this.length;return this._items.forEach(s=>{e(s)||this._items.delete(s)}),t!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){v(this._observable),yield*this._items}};const w=new FinalizationRegistry(o=>{o.close()});function he(o,e){w.register(o,e,e)}function F(o){w.unregister(o)}function N(o,e){return new Proxy({},{get:(t,s,r)=>(...i)=>{let n,l;const h=i[i.length-1];return z(h)&&(n=h.signal,l=h.transferList,i.pop()),o.apply(e?`${e}.${s.toString()}`:s.toString(),i,{transferList:l,signal:n})}})}function z(o){return typeof o=="object"&&!Array.isArray(o)&&o!=null&&("signal"in o||"transferList"in o||Object.keys(o).length===0)}const U={statsWorker:()=>a(()=>import("./statsWorker-d5f9db1a.js"),["./statsWorker-d5f9db1a.js","./utils-0bd9b85f.js","./geometry-31b45acd.js","./subclass-f7409b1b.js","./typedArrayUtil-2af43698.js","./Error-21d1d076.js","./promiseUtils-1d963c7c.js","./Extent-2b4578b8.js","./JSONSupport-acf2865c.js","./time-0817624a.js","./SpatialReference-428523ee.js","./jsonMap-5ba4a9c2.js","./request-a10d6950.js","./assets-6fd92e57.js","./cast-e7a2f9aa.js","./Polyline-013cde1f.js","./aaBoundingRect-aef00841.js","./Axis-30be7e73.js","./mathUtils-19b6edfc.js","./typeUtils-3056a943.js","./screenUtils-7afeb41c.js","./timeUtils-24502426.js","./date-7940da18.js","./locale-bde6d0f6.js","./datetime-7e00d9ef.js","./heatmapUtils-7a838493.js","./vec42-a95eff2d.js","./vec4f64-430e4feb.js","./fieldUtils-fcb2a714.js","./intl-fe039018.js","./messages-2d262041.js","./utils-522ed121.js","./Basemap-09ab572b.js","./Collection-aa6ef54b.js","./Evented-b5127116.js","./SimpleObservable-ae589a25.js","./collectionUtils-b6e30316.js","./Loadable-8a1ead8b.js","./Promise-ec74e14b.js","./loadAll-19f96669.js","./Portal-cb507469.js","./PortalItem-9d3416e3.js","./persistableUrlUtils-ca6bb38d.js","./writeUtils-ef8a6958.js","./layerUtils-c805b05c.js","./mat4f32-1b45b54f.js","./mat4-a6ac6b0f.js","./utils-11762b6e.js","./ClassBreaksDefinition-be15ec21.js","./enumeration-4a4e87c4.js"],import.meta.url),geometryEngineWorker:()=>a(()=>import("./geometryEngineWorker-d740ea31.js"),["./geometryEngineWorker-d740ea31.js","./geometryEngineJSON-ec02ed97.js","./geometryEngineBase-77e94ca5.js","./_commonjsHelpers-2f3e7994.js","./json-48e3ea08.js"],import.meta.url),CSVSourceWorker:()=>a(()=>import("./CSVSourceWorker-0a15e8bd.js"),["./CSVSourceWorker-0a15e8bd.js","./geometry-31b45acd.js","./subclass-f7409b1b.js","./typedArrayUtil-2af43698.js","./Error-21d1d076.js","./promiseUtils-1d963c7c.js","./Extent-2b4578b8.js","./JSONSupport-acf2865c.js","./time-0817624a.js","./SpatialReference-428523ee.js","./jsonMap-5ba4a9c2.js","./request-a10d6950.js","./assets-6fd92e57.js","./cast-e7a2f9aa.js","./Polyline-013cde1f.js","./aaBoundingRect-aef00841.js","./Axis-30be7e73.js","./mathUtils-19b6edfc.js","./typeUtils-3056a943.js","./Evented-b5127116.js","./date-294ce3fb.js","./projection-41da473c.js","./SimpleObservable-ae589a25.js","./projectBuffer-af7b4ad9.js","./zscale-d7e12601.js","./json-48e3ea08.js","./OptimizedFeature-0af09c7a.js","./OptimizedGeometry-5ad221bf.js","./FeatureStore-d7126e99.js","./aaBoundingBox-7242ce3e.js","./featureConversionUtils-e62978d0.js","./jsonUtils-2c7f966c.js","./OptimizedFeatureSet-1d1ac4b9.js","./BoundsStore-efd6e714.js","./PooledRBush-7b613e7a.js","./quickselect-fcce738b.js","./_commonjsHelpers-2f3e7994.js","./timeSupport-57e57e41.js","./normalizeUtils-059b11cb.js","./normalizeUtilsCommon-c4e9ddb1.js","./utils-3234cfff.js","./utils-ed91a700.js","./QueryEngine-98332c44.js","./LRUCache-000d0e19.js","./WhereClause-239b807b.js","./TimeOnly-e43464ca.js","./UnknownTimeZone-8ede07af.js","./datetime-7e00d9ef.js","./locale-bde6d0f6.js","./fieldType-4834e8bc.js","./QueryEngineCapabilities-85c4f1d0.js","./heatmapUtils-7a838493.js","./screenUtils-7afeb41c.js","./vec42-a95eff2d.js","./vec4f64-430e4feb.js","./fieldUtils-fcb2a714.js","./intl-fe039018.js","./date-7940da18.js","./messages-2d262041.js","./utils-0bd9b85f.js","./timeUtils-24502426.js","./utils-522ed121.js","./Basemap-09ab572b.js","./Collection-aa6ef54b.js","./collectionUtils-b6e30316.js","./Loadable-8a1ead8b.js","./Promise-ec74e14b.js","./loadAll-19f96669.js","./Portal-cb507469.js","./PortalItem-9d3416e3.js","./persistableUrlUtils-ca6bb38d.js","./writeUtils-ef8a6958.js","./layerUtils-c805b05c.js","./mat4f32-1b45b54f.js","./mat4-a6ac6b0f.js","./utils-11762b6e.js","./ClassBreaksDefinition-be15ec21.js","./enumeration-4a4e87c4.js","./FieldsIndex-9238b8b6.js","./reactiveUtils-e7d9f86e.js","./signal-b060d75f.js","./RenderState-1d6218ee.js","./number-6ee739f3.js","./clientSideDefaults-1b55d85f.js","./defaultsJSON-b087dd4d.js"],import.meta.url),EdgeProcessingWorker:()=>a(()=>import("./EdgeProcessingWorker-d2c1c245.js"),["./EdgeProcessingWorker-d2c1c245.js","./InterleavedLayout-4bcbdca0.js","./BufferView-6e304e0e.js","./vec2-f44efd17.js","./mathUtils-19b6edfc.js","./vec42-a95eff2d.js","./types-1305598a.js","./Util-5ae70216.js","./vec2f64-b65bfd66.js","./vec4f64-430e4feb.js","./edgeProcessing-d2d3b2df.js","./deduplicate-4feec8ff.js","./Indices-968b5cdc.js","./typedArrayUtil-2af43698.js","./VertexAttribute-c2df436e.js","./enums-52934aad.js","./VertexElementDescriptor-2925c6af.js"],import.meta.url),ElevationSamplerWorker:()=>a(()=>import("./ElevationSamplerWorker-daae2341.js"),["./ElevationSamplerWorker-daae2341.js","./typedArrayUtil-2af43698.js","./PooledRBush-7b613e7a.js","./subclass-f7409b1b.js","./Error-21d1d076.js","./promiseUtils-1d963c7c.js","./quickselect-fcce738b.js","./_commonjsHelpers-2f3e7994.js","./meshVertexSpaceUtils-a98cf1bd.js","./JSONSupport-acf2865c.js","./time-0817624a.js","./Extent-2b4578b8.js","./SpatialReference-428523ee.js","./jsonMap-5ba4a9c2.js","./request-a10d6950.js","./assets-6fd92e57.js","./cast-e7a2f9aa.js","./MeshLocalVertexSpace-48f1035e.js","./Clonable-b71fa929.js","./enumeration-4a4e87c4.js","./mathUtils-19b6edfc.js","./vec3-10e9217f.js","./georeference-a2be6426.js","./mat3f64-e19cdcb8.js","./mat4-a6ac6b0f.js","./mat4f64-9a8384aa.js","./mat3-def297a7.js","./projection-41da473c.js","./SimpleObservable-ae589a25.js","./Polyline-013cde1f.js","./aaBoundingRect-aef00841.js","./Axis-30be7e73.js","./projectBuffer-af7b4ad9.js","./zscale-d7e12601.js","./computeTranslationToOriginAndRotation-3ac32984.js","./DoubleArray-d7e400b4.js","./quat-064ab1d0.js","./quatf64-81e039e4.js","./vec42-a95eff2d.js","./vec4f64-430e4feb.js","./BufferView-6e304e0e.js","./vec2-f44efd17.js"],import.meta.url),FeatureServiceSnappingSourceWorker:()=>a(()=>import("./FeatureServiceSnappingSourceWorker-fd1dc824.js"),["./FeatureServiceSnappingSourceWorker-fd1dc824.js","./subclass-f7409b1b.js","./typedArrayUtil-2af43698.js","./Error-21d1d076.js","./promiseUtils-1d963c7c.js","./geometry-31b45acd.js","./Extent-2b4578b8.js","./JSONSupport-acf2865c.js","./time-0817624a.js","./SpatialReference-428523ee.js","./jsonMap-5ba4a9c2.js","./request-a10d6950.js","./assets-6fd92e57.js","./cast-e7a2f9aa.js","./Polyline-013cde1f.js","./aaBoundingRect-aef00841.js","./Axis-30be7e73.js","./mathUtils-19b6edfc.js","./typeUtils-3056a943.js","./Evented-b5127116.js","./reactiveUtils-e7d9f86e.js","./Collection-aa6ef54b.js","./SimpleObservable-ae589a25.js","./UpdatingHandles-431d86d1.js","./FeatureStore-d7126e99.js","./aaBoundingBox-7242ce3e.js","./featureConversionUtils-e62978d0.js","./jsonUtils-2c7f966c.js","./OptimizedFeature-0af09c7a.js","./OptimizedFeatureSet-1d1ac4b9.js","./OptimizedGeometry-5ad221bf.js","./BoundsStore-efd6e714.js","./PooledRBush-7b613e7a.js","./quickselect-fcce738b.js","./_commonjsHelpers-2f3e7994.js","./timeSupport-57e57e41.js","./projection-41da473c.js","./projectBuffer-af7b4ad9.js","./zscale-d7e12601.js","./normalizeUtils-059b11cb.js","./normalizeUtilsCommon-c4e9ddb1.js","./utils-3234cfff.js","./utils-ed91a700.js","./json-48e3ea08.js","./QueryEngine-98332c44.js","./LRUCache-000d0e19.js","./WhereClause-239b807b.js","./TimeOnly-e43464ca.js","./UnknownTimeZone-8ede07af.js","./datetime-7e00d9ef.js","./locale-bde6d0f6.js","./fieldType-4834e8bc.js","./QueryEngineCapabilities-85c4f1d0.js","./heatmapUtils-7a838493.js","./screenUtils-7afeb41c.js","./vec42-a95eff2d.js","./vec4f64-430e4feb.js","./fieldUtils-fcb2a714.js","./intl-fe039018.js","./date-7940da18.js","./messages-2d262041.js","./utils-0bd9b85f.js","./timeUtils-24502426.js","./utils-522ed121.js","./Basemap-09ab572b.js","./collectionUtils-b6e30316.js","./Loadable-8a1ead8b.js","./Promise-ec74e14b.js","./loadAll-19f96669.js","./Portal-cb507469.js","./PortalItem-9d3416e3.js","./persistableUrlUtils-ca6bb38d.js","./writeUtils-ef8a6958.js","./layerUtils-c805b05c.js","./mat4f32-1b45b54f.js","./mat4-a6ac6b0f.js","./utils-11762b6e.js","./ClassBreaksDefinition-be15ec21.js","./enumeration-4a4e87c4.js","./FieldsIndex-9238b8b6.js","./signal-b060d75f.js","./RenderState-1d6218ee.js","./TileInfo-d188b444.js","./Query-aaf746b1.js","./TimeExtent-579f0e32.js","./DataLayerSource-62d0bfcf.js","./Field-be948aef.js","./Clonable-b71fa929.js","./ElevationInfo-e9f55e40.js","./lengthUtils-1e9c410b.js","./arcgisLayerUrl-0c479f71.js","./pbfQueryUtils-06460449.js","./pbf-1d598563.js","./query-21390169.js","./urlUtils-6a004888.js","./queryZScale-b694be92.js","./ByteSizeUnit-d4757d40.js"],import.meta.url),GeoJSONSourceWorker:()=>a(()=>import("./GeoJSONSourceWorker-b21a470d.js"),["./GeoJSONSourceWorker-b21a470d.js","./request-a10d6950.js","./Error-21d1d076.js","./typedArrayUtil-2af43698.js","./JSONSupport-acf2865c.js","./subclass-f7409b1b.js","./promiseUtils-1d963c7c.js","./time-0817624a.js","./Evented-b5127116.js","./jsonUtils-2c7f966c.js","./Extent-2b4578b8.js","./SpatialReference-428523ee.js","./jsonMap-5ba4a9c2.js","./assets-6fd92e57.js","./cast-e7a2f9aa.js","./Polyline-013cde1f.js","./aaBoundingRect-aef00841.js","./Axis-30be7e73.js","./mathUtils-19b6edfc.js","./featureConversionUtils-e62978d0.js","./aaBoundingBox-7242ce3e.js","./OptimizedFeature-0af09c7a.js","./OptimizedFeatureSet-1d1ac4b9.js","./OptimizedGeometry-5ad221bf.js","./FeatureStore-d7126e99.js","./BoundsStore-efd6e714.js","./PooledRBush-7b613e7a.js","./quickselect-fcce738b.js","./_commonjsHelpers-2f3e7994.js","./timeSupport-57e57e41.js","./projection-41da473c.js","./SimpleObservable-ae589a25.js","./projectBuffer-af7b4ad9.js","./zscale-d7e12601.js","./normalizeUtils-059b11cb.js","./normalizeUtilsCommon-c4e9ddb1.js","./geometry-31b45acd.js","./typeUtils-3056a943.js","./utils-3234cfff.js","./utils-ed91a700.js","./json-48e3ea08.js","./QueryEngine-98332c44.js","./LRUCache-000d0e19.js","./WhereClause-239b807b.js","./TimeOnly-e43464ca.js","./UnknownTimeZone-8ede07af.js","./datetime-7e00d9ef.js","./locale-bde6d0f6.js","./fieldType-4834e8bc.js","./QueryEngineCapabilities-85c4f1d0.js","./heatmapUtils-7a838493.js","./screenUtils-7afeb41c.js","./vec42-a95eff2d.js","./vec4f64-430e4feb.js","./fieldUtils-fcb2a714.js","./intl-fe039018.js","./date-7940da18.js","./messages-2d262041.js","./utils-0bd9b85f.js","./timeUtils-24502426.js","./utils-522ed121.js","./Basemap-09ab572b.js","./Collection-aa6ef54b.js","./collectionUtils-b6e30316.js","./Loadable-8a1ead8b.js","./Promise-ec74e14b.js","./loadAll-19f96669.js","./Portal-cb507469.js","./PortalItem-9d3416e3.js","./persistableUrlUtils-ca6bb38d.js","./writeUtils-ef8a6958.js","./layerUtils-c805b05c.js","./mat4f32-1b45b54f.js","./mat4-a6ac6b0f.js","./utils-11762b6e.js","./ClassBreaksDefinition-be15ec21.js","./enumeration-4a4e87c4.js","./FieldsIndex-9238b8b6.js","./reactiveUtils-e7d9f86e.js","./signal-b060d75f.js","./RenderState-1d6218ee.js","./geojson-b47ee09c.js","./date-294ce3fb.js","./clientSideDefaults-1b55d85f.js","./defaultsJSON-b087dd4d.js","./sourceUtils-141e6bda.js"],import.meta.url),LercWorker:()=>a(()=>import("./LercWorker-30fa0616.js"),["./LercWorker-30fa0616.js","./mathUtils-19b6edfc.js"],import.meta.url),MemorySourceWorker:()=>a(()=>import("./MemorySourceWorker-06ea663e.js"),["./MemorySourceWorker-06ea663e.js","./Error-21d1d076.js","./typedArrayUtil-2af43698.js","./jsonUtils-2c7f966c.js","./Extent-2b4578b8.js","./subclass-f7409b1b.js","./promiseUtils-1d963c7c.js","./JSONSupport-acf2865c.js","./time-0817624a.js","./SpatialReference-428523ee.js","./jsonMap-5ba4a9c2.js","./request-a10d6950.js","./assets-6fd92e57.js","./cast-e7a2f9aa.js","./Polyline-013cde1f.js","./aaBoundingRect-aef00841.js","./Axis-30be7e73.js","./mathUtils-19b6edfc.js","./featureConversionUtils-e62978d0.js","./aaBoundingBox-7242ce3e.js","./OptimizedFeature-0af09c7a.js","./OptimizedFeatureSet-1d1ac4b9.js","./OptimizedGeometry-5ad221bf.js","./objectIdUtils-789e911a.js","./FeatureStore-d7126e99.js","./Evented-b5127116.js","./BoundsStore-efd6e714.js","./PooledRBush-7b613e7a.js","./quickselect-fcce738b.js","./_commonjsHelpers-2f3e7994.js","./timeSupport-57e57e41.js","./projection-41da473c.js","./SimpleObservable-ae589a25.js","./projectBuffer-af7b4ad9.js","./zscale-d7e12601.js","./normalizeUtils-059b11cb.js","./normalizeUtilsCommon-c4e9ddb1.js","./geometry-31b45acd.js","./typeUtils-3056a943.js","./utils-3234cfff.js","./utils-ed91a700.js","./json-48e3ea08.js","./QueryEngine-98332c44.js","./LRUCache-000d0e19.js","./WhereClause-239b807b.js","./TimeOnly-e43464ca.js","./UnknownTimeZone-8ede07af.js","./datetime-7e00d9ef.js","./locale-bde6d0f6.js","./fieldType-4834e8bc.js","./QueryEngineCapabilities-85c4f1d0.js","./heatmapUtils-7a838493.js","./screenUtils-7afeb41c.js","./vec42-a95eff2d.js","./vec4f64-430e4feb.js","./fieldUtils-fcb2a714.js","./intl-fe039018.js","./date-7940da18.js","./messages-2d262041.js","./utils-0bd9b85f.js","./timeUtils-24502426.js","./utils-522ed121.js","./Basemap-09ab572b.js","./Collection-aa6ef54b.js","./collectionUtils-b6e30316.js","./Loadable-8a1ead8b.js","./Promise-ec74e14b.js","./loadAll-19f96669.js","./Portal-cb507469.js","./PortalItem-9d3416e3.js","./persistableUrlUtils-ca6bb38d.js","./writeUtils-ef8a6958.js","./layerUtils-c805b05c.js","./mat4f32-1b45b54f.js","./mat4-a6ac6b0f.js","./utils-11762b6e.js","./ClassBreaksDefinition-be15ec21.js","./enumeration-4a4e87c4.js","./FieldsIndex-9238b8b6.js","./reactiveUtils-e7d9f86e.js","./signal-b060d75f.js","./RenderState-1d6218ee.js","./clientSideDefaults-1b55d85f.js","./defaultsJSON-b087dd4d.js","./sourceUtils-141e6bda.js","./date-294ce3fb.js"],import.meta.url),PBFDecoderWorker:()=>a(()=>import("./PBFDecoderWorker-791a6fdb.js"),["./PBFDecoderWorker-791a6fdb.js","./compilerUtils-7f5a3043.js","./typedArrayUtil-2af43698.js","./JSONSupport-acf2865c.js","./subclass-f7409b1b.js","./Error-21d1d076.js","./promiseUtils-1d963c7c.js","./time-0817624a.js","./SpatialReference-428523ee.js","./jsonMap-5ba4a9c2.js","./request-a10d6950.js","./assets-6fd92e57.js","./zscale-d7e12601.js","./aaBoundingBox-7242ce3e.js","./Extent-2b4578b8.js","./cast-e7a2f9aa.js","./mathUtils-19b6edfc.js","./Polyline-013cde1f.js","./aaBoundingRect-aef00841.js","./Axis-30be7e73.js","./typeUtils-3056a943.js","./Field-be948aef.js","./enumeration-4a4e87c4.js","./fieldType-4834e8bc.js","./featureConversionUtils-e62978d0.js","./jsonUtils-2c7f966c.js","./OptimizedFeature-0af09c7a.js","./OptimizedFeatureSet-1d1ac4b9.js","./OptimizedGeometry-5ad221bf.js","./pbfQueryUtils-06460449.js","./pbf-1d598563.js"],import.meta.url),FeaturePipelineWorker:()=>a(()=>import("./FeaturePipelineWorker-f0a5ef86.js"),["./FeaturePipelineWorker-f0a5ef86.js","./Error-21d1d076.js","./typedArrayUtil-2af43698.js","./promiseUtils-1d963c7c.js","./subclass-f7409b1b.js","./reactiveUtils-e7d9f86e.js","./Evented-b5127116.js","./JSONSupport-acf2865c.js","./time-0817624a.js","./Collection-aa6ef54b.js","./SimpleObservable-ae589a25.js","./screenUtils-7afeb41c.js","./TileInfo-d188b444.js","./jsonMap-5ba4a9c2.js","./SpatialReference-428523ee.js","./request-a10d6950.js","./assets-6fd92e57.js","./Extent-2b4578b8.js","./cast-e7a2f9aa.js","./aaBoundingRect-aef00841.js","./Axis-30be7e73.js","./mathUtils-19b6edfc.js","./HighlightOptions-4299833f.js","./TileKey-a0a7eda8.js","./vec2-f44efd17.js","./QueueProcessor-79c89715.js","./signal-b060d75f.js","./quickselect-fcce738b.js","./_commonjsHelpers-2f3e7994.js","./Query-aaf746b1.js","./geometry-31b45acd.js","./Polyline-013cde1f.js","./typeUtils-3056a943.js","./TimeExtent-579f0e32.js","./timeUtils-24502426.js","./date-7940da18.js","./locale-bde6d0f6.js","./datetime-7e00d9ef.js","./enumeration-4a4e87c4.js","./jsonUtils-2c7f966c.js","./DataLayerSource-62d0bfcf.js","./Field-be948aef.js","./fieldType-4834e8bc.js","./Clonable-b71fa929.js","./Color-e1a6dfab.js","./colorUtils-ac6863dc.js","./definitions-f1268e8f.js","./diffUtils-d0e8b583.js","./AttributeStore-937c0140.js","./LabelMetric-dc5934b5.js","./enums-52934aad.js","./enums-2742e74f.js","./Texture-c6ffe640.js","./Program-eff88155.js","./VertexElementDescriptor-2925c6af.js","./BoundingBox-f9d9024c.js","./vec2f32-afca0b62.js","./UpdateTracking2D-90f071b9.js","./TurboLine-fca76414.js","./earcut-9ee3ebef.js","./GeometryUtils-2a8ddcd2.js","./OptimizedGeometry-5ad221bf.js","./CIMSymbolHelper-5fe56705.js","./BidiEngine-9a40f2f4.js","./TextSymbol-53669eb2.js","./fontUtils-d07df119.js","./utils-064c64c4.js","./Rect-ea14f53a.js","./defaults-473b7c21.js","./defaultsJSON-b087dd4d.js","./BindType-d21d71dd.js","./Util-5ae70216.js","./vec2f64-b65bfd66.js","./vec42-a95eff2d.js","./vec4f64-430e4feb.js","./highlightReasons-e15be521.js","./constants-991354c8.js","./UpdatingHandles-431d86d1.js","./aaBoundingBox-7242ce3e.js","./fieldUtils-fcb2a714.js","./intl-fe039018.js","./messages-2d262041.js","./FieldsIndex-9238b8b6.js","./UnknownTimeZone-8ede07af.js","./TimeOnly-e43464ca.js","./featureConversionUtils-e62978d0.js","./OptimizedFeature-0af09c7a.js","./OptimizedFeatureSet-1d1ac4b9.js","./timeSupport-57e57e41.js","./projection-41da473c.js","./projectBuffer-af7b4ad9.js","./zscale-d7e12601.js","./normalizeUtils-059b11cb.js","./normalizeUtilsCommon-c4e9ddb1.js","./utils-3234cfff.js","./utils-ed91a700.js","./json-48e3ea08.js","./tileUtils-c2f19f52.js","./geohashUtils-f211fce6.js","./QueryEngine-98332c44.js","./LRUCache-000d0e19.js","./WhereClause-239b807b.js","./QueryEngineCapabilities-85c4f1d0.js","./heatmapUtils-7a838493.js","./utils-0bd9b85f.js","./utils-522ed121.js","./Basemap-09ab572b.js","./collectionUtils-b6e30316.js","./Loadable-8a1ead8b.js","./Promise-ec74e14b.js","./loadAll-19f96669.js","./Portal-cb507469.js","./PortalItem-9d3416e3.js","./persistableUrlUtils-ca6bb38d.js","./writeUtils-ef8a6958.js","./layerUtils-c805b05c.js","./mat4f32-1b45b54f.js","./mat4-a6ac6b0f.js","./utils-11762b6e.js","./ClassBreaksDefinition-be15ec21.js","./RenderState-1d6218ee.js","./query-21390169.js","./urlUtils-6a004888.js","./pbfQueryUtils-06460449.js","./pbf-1d598563.js","./queryZScale-b694be92.js","./ogcFeatureUtils-c593a6bf.js","./geojson-b47ee09c.js","./date-294ce3fb.js","./clientSideDefaults-1b55d85f.js","./sourceUtils-141e6bda.js","./CircularArray-ef508845.js","./createConnection-6f05cbeb.js"],import.meta.url),PointCloudWorker:()=>a(()=>import("./PointCloudWorker-ff9958c1.js"),["./PointCloudWorker-ff9958c1.js","./typedArrayUtil-2af43698.js","./quat-064ab1d0.js","./mat3f64-e19cdcb8.js","./quatf64-81e039e4.js","./mathUtils-19b6edfc.js","./vec42-a95eff2d.js","./vec3f32-ad1dc57f.js","./SpatialReference-428523ee.js","./subclass-f7409b1b.js","./Error-21d1d076.js","./promiseUtils-1d963c7c.js","./JSONSupport-acf2865c.js","./time-0817624a.js","./jsonMap-5ba4a9c2.js","./request-a10d6950.js","./assets-6fd92e57.js","./projectBuffer-af7b4ad9.js","./PointCloudUniqueValueRenderer-78133231.js","./enumeration-4a4e87c4.js","./ColorStop-6cee3909.js","./Color-e1a6dfab.js","./colorUtils-ac6863dc.js","./I3SBinaryReader-2a065a27.js","./VertexAttribute-c2df436e.js","./orientedBoundingBox-27e96351.js","./mat3-def297a7.js","./mat4f64-9a8384aa.js","./vec4f64-430e4feb.js","./computeTranslationToOriginAndRotation-3ac32984.js","./mat4-a6ac6b0f.js","./plane-f835f029.js","./vec2f64-b65bfd66.js","./ViewingMode-fb6259a5.js"],import.meta.url),RasterWorker:()=>a(()=>import("./RasterWorker-845d3746.js"),["./RasterWorker-845d3746.js","./geometry-31b45acd.js","./subclass-f7409b1b.js","./typedArrayUtil-2af43698.js","./Error-21d1d076.js","./promiseUtils-1d963c7c.js","./Extent-2b4578b8.js","./JSONSupport-acf2865c.js","./time-0817624a.js","./SpatialReference-428523ee.js","./jsonMap-5ba4a9c2.js","./request-a10d6950.js","./assets-6fd92e57.js","./cast-e7a2f9aa.js","./Polyline-013cde1f.js","./aaBoundingRect-aef00841.js","./Axis-30be7e73.js","./mathUtils-19b6edfc.js","./typeUtils-3056a943.js","./projection-41da473c.js","./SimpleObservable-ae589a25.js","./projectBuffer-af7b4ad9.js","./zscale-d7e12601.js","./dataUtils-a5d9e31f.js","./RasterSymbolizer-04295272.js","./_commonjsHelpers-2f3e7994.js","./colorUtils-f660fd36.js","./Color-e1a6dfab.js","./colorUtils-ac6863dc.js","./vec42-a95eff2d.js","./vec4f64-430e4feb.js","./utils-5786019d.js","./enumeration-4a4e87c4.js","./jsonUtils-2c7f966c.js","./colorRamps-bef5e122.js","./rasterProjectionHelper-0d922734.js"],import.meta.url),SceneLayerSnappingSourceWorker:()=>a(()=>import("./SceneLayerSnappingSourceWorker-24d90330.js"),["./SceneLayerSnappingSourceWorker-24d90330.js","./subclass-f7409b1b.js","./typedArrayUtil-2af43698.js","./Error-21d1d076.js","./promiseUtils-1d963c7c.js","./mathUtils-19b6edfc.js","./lineSegment-9b648b01.js","./ObjectStack-80adc7e7.js","./plane-f835f029.js","./vec42-a95eff2d.js","./mat3f64-e19cdcb8.js","./mat4f64-9a8384aa.js","./quatf64-81e039e4.js","./vec2f64-b65bfd66.js","./vec4f64-430e4feb.js","./sphere-25bb4446.js","./mat4-a6ac6b0f.js","./Axis-30be7e73.js","./Util-5ae70216.js","./edgeProcessing-d2d3b2df.js","./deduplicate-4feec8ff.js","./Indices-968b5cdc.js","./InterleavedLayout-4bcbdca0.js","./BufferView-6e304e0e.js","./vec2-f44efd17.js","./types-1305598a.js","./VertexAttribute-c2df436e.js","./enums-52934aad.js","./VertexElementDescriptor-2925c6af.js"],import.meta.url),SceneLayerWorker:()=>a(()=>import("./SceneLayerWorker-b4e41440.js"),["./SceneLayerWorker-b4e41440.js","./request-a10d6950.js","./Error-21d1d076.js","./typedArrayUtil-2af43698.js","./JSONSupport-acf2865c.js","./subclass-f7409b1b.js","./promiseUtils-1d963c7c.js","./time-0817624a.js","./SpatialReference-428523ee.js","./jsonMap-5ba4a9c2.js","./assets-6fd92e57.js","./DoubleArray-d7e400b4.js","./MeshLocalVertexSpace-48f1035e.js","./Clonable-b71fa929.js","./enumeration-4a4e87c4.js","./mathUtils-19b6edfc.js","./vec3-10e9217f.js","./vec4f64-430e4feb.js","./sphere-25bb4446.js","./mat4-a6ac6b0f.js","./vec42-a95eff2d.js","./Axis-30be7e73.js","./ObjectStack-80adc7e7.js","./plane-f835f029.js","./mat3f64-e19cdcb8.js","./mat4f64-9a8384aa.js","./quatf64-81e039e4.js","./vec2f64-b65bfd66.js","./I3SUtil-06dd7732.js","./geometry-31b45acd.js","./Extent-2b4578b8.js","./cast-e7a2f9aa.js","./Polyline-013cde1f.js","./aaBoundingRect-aef00841.js","./typeUtils-3056a943.js","./projection-41da473c.js","./SimpleObservable-ae589a25.js","./projectBuffer-af7b4ad9.js","./zscale-d7e12601.js","./computeTranslationToOriginAndRotation-3ac32984.js","./Query-aaf746b1.js","./TimeExtent-579f0e32.js","./timeUtils-24502426.js","./date-7940da18.js","./locale-bde6d0f6.js","./datetime-7e00d9ef.js","./jsonUtils-2c7f966c.js","./DataLayerSource-62d0bfcf.js","./Field-be948aef.js","./fieldType-4834e8bc.js","./I3SBinaryReader-2a065a27.js","./VertexAttribute-c2df436e.js","./Color-e1a6dfab.js","./colorUtils-ac6863dc.js","./symbolColorUtils-ac5f37db.js","./orientedBoundingBox-27e96351.js","./mat3-def297a7.js","./quat-064ab1d0.js","./ViewingMode-fb6259a5.js"],import.meta.url),WFSSourceWorker:()=>a(()=>import("./WFSSourceWorker-ca455ae8.js"),["./WFSSourceWorker-ca455ae8.js","./Evented-b5127116.js","./subclass-f7409b1b.js","./typedArrayUtil-2af43698.js","./Error-21d1d076.js","./promiseUtils-1d963c7c.js","./JSONSupport-acf2865c.js","./time-0817624a.js","./SpatialReference-428523ee.js","./jsonMap-5ba4a9c2.js","./request-a10d6950.js","./assets-6fd92e57.js","./featureConversionUtils-e62978d0.js","./aaBoundingBox-7242ce3e.js","./Extent-2b4578b8.js","./cast-e7a2f9aa.js","./mathUtils-19b6edfc.js","./aaBoundingRect-aef00841.js","./Axis-30be7e73.js","./jsonUtils-2c7f966c.js","./Polyline-013cde1f.js","./OptimizedFeature-0af09c7a.js","./OptimizedFeatureSet-1d1ac4b9.js","./OptimizedGeometry-5ad221bf.js","./FeatureStore-d7126e99.js","./BoundsStore-efd6e714.js","./PooledRBush-7b613e7a.js","./quickselect-fcce738b.js","./_commonjsHelpers-2f3e7994.js","./timeSupport-57e57e41.js","./projection-41da473c.js","./SimpleObservable-ae589a25.js","./projectBuffer-af7b4ad9.js","./zscale-d7e12601.js","./normalizeUtils-059b11cb.js","./normalizeUtilsCommon-c4e9ddb1.js","./geometry-31b45acd.js","./typeUtils-3056a943.js","./utils-3234cfff.js","./utils-ed91a700.js","./json-48e3ea08.js","./QueryEngine-98332c44.js","./LRUCache-000d0e19.js","./WhereClause-239b807b.js","./TimeOnly-e43464ca.js","./UnknownTimeZone-8ede07af.js","./datetime-7e00d9ef.js","./locale-bde6d0f6.js","./fieldType-4834e8bc.js","./QueryEngineCapabilities-85c4f1d0.js","./heatmapUtils-7a838493.js","./screenUtils-7afeb41c.js","./vec42-a95eff2d.js","./vec4f64-430e4feb.js","./fieldUtils-fcb2a714.js","./intl-fe039018.js","./date-7940da18.js","./messages-2d262041.js","./utils-0bd9b85f.js","./timeUtils-24502426.js","./utils-522ed121.js","./Basemap-09ab572b.js","./Collection-aa6ef54b.js","./collectionUtils-b6e30316.js","./Loadable-8a1ead8b.js","./Promise-ec74e14b.js","./loadAll-19f96669.js","./Portal-cb507469.js","./PortalItem-9d3416e3.js","./persistableUrlUtils-ca6bb38d.js","./writeUtils-ef8a6958.js","./layerUtils-c805b05c.js","./mat4f32-1b45b54f.js","./mat4-a6ac6b0f.js","./utils-11762b6e.js","./ClassBreaksDefinition-be15ec21.js","./enumeration-4a4e87c4.js","./FieldsIndex-9238b8b6.js","./reactiveUtils-e7d9f86e.js","./signal-b060d75f.js","./RenderState-1d6218ee.js","./geojson-b47ee09c.js","./date-294ce3fb.js","./sourceUtils-141e6bda.js","./wfsUtils-d623fdc3.js","./xmlUtils-444cb4c0.js","./arcgisLayerUrl-0c479f71.js","./Field-be948aef.js"],import.meta.url),WorkerTileHandler:()=>a(()=>import("./WorkerTileHandler-6c6722f4.js"),["./WorkerTileHandler-6c6722f4.js","./promiseUtils-1d963c7c.js","./Error-21d1d076.js","./typedArrayUtil-2af43698.js","./enums-fb086c25.js","./GeometryUtils-2a8ddcd2.js","./aaBoundingRect-aef00841.js","./Axis-30be7e73.js","./SpatialReference-428523ee.js","./subclass-f7409b1b.js","./JSONSupport-acf2865c.js","./time-0817624a.js","./jsonMap-5ba4a9c2.js","./request-a10d6950.js","./assets-6fd92e57.js","./mathUtils-19b6edfc.js","./Extent-2b4578b8.js","./cast-e7a2f9aa.js","./Rect-ea14f53a.js","./config-1337d16e.js","./StyleDefinition-fb74b3a7.js","./enums-2742e74f.js","./pbf-1d598563.js","./TurboLine-fca76414.js","./definitions-f1268e8f.js","./SourceLayerData-d086cfc2.js","./StyleRepository-c009475f.js","./enums-52934aad.js","./VertexElementDescriptor-2925c6af.js","./Color-e1a6dfab.js","./colorUtils-ac6863dc.js","./colorUtils-f660fd36.js","./vec42-a95eff2d.js","./vec4f64-430e4feb.js","./unitBezier-881ac1eb.js","./earcut-9ee3ebef.js","./_commonjsHelpers-2f3e7994.js","./BidiEngine-9a40f2f4.js"],import.meta.url),Lyr3DWorker:()=>a(()=>import("./Lyr3DWorker-e21f31b5.js"),["./Lyr3DWorker-e21f31b5.js","./request-a10d6950.js","./Error-21d1d076.js","./typedArrayUtil-2af43698.js","./JSONSupport-acf2865c.js","./subclass-f7409b1b.js","./promiseUtils-1d963c7c.js","./time-0817624a.js","./assets-6fd92e57.js"],import.meta.url)};var c;(function(o){o[o.HANDSHAKE=0]="HANDSHAKE",o[o.OPEN=1]="OPEN",o[o.OPENED=2]="OPENED",o[o.RESPONSE=3]="RESPONSE",o[o.INVOKE=4]="INVOKE",o[o.ABORT=5]="ABORT",o[o.CLOSE=6]="CLOSE",o[o.OPEN_PORT=7]="OPEN_PORT",o[o.ON=8]="ON"})(c||(c={}));let G=0;function q(){return G++}function X(o){return o&&typeof o=="object"&&("result"in o||"transferList"in o)}function E(o){return o?typeof o=="string"?JSON.stringify({name:"message",message:o}):o.toJSON?JSON.stringify(o):JSON.stringify({name:o.name,message:o.message,details:o.details||{stack:o.stack}}):null}function R(o,e,t,s){if(e.type===c.OPEN_PORT)return void o.postMessage(e,[e.port]);if(e.type!==c.INVOKE&&e.type!==c.RESPONSE)return void o.postMessage(e);let r;if(X(t)?(r=O(t.transferList),e.data=t.result):(r=O(s),e.data=t),r){if(M("ff")){for(const i of r)if("byteLength"in i&&i.byteLength>267386880){const n="Worker call with large ArrayBuffer would crash Firefox";switch(e.type){case c.INVOKE:throw n;case c.RESPONSE:return void R(o,{type:c.RESPONSE,jobId:e.jobId,error:E(n)})}}}o.postMessage(e,r)}else o.postMessage(e)}function P(o){if(!o)return null;const e=o.data;return e?typeof e=="string"?JSON.parse(e):e:null}function O(o){if(!(o!=null&&o.length))return null;if(M("esri-workers-arraybuffer-transfer"))return o;const e=o.filter(t=>!Y(t));return e.length?e:null}function Y(o){var e;return o instanceof ArrayBuffer||((e=o==null?void 0:o.constructor)==null?void 0:e.name)==="ArrayBuffer"}const{CLOSE:k,ABORT:I,INVOKE:S,RESPONSE:d,OPEN_PORT:A,ON:Z}=c,ee=2;class te{constructor(e){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=e,this._timer=null,this._process=this._process.bind(this)}push(e){e.type===c.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class u{static connect(e){const t=new MessageChannel;let s;s=typeof e=="function"?new e:"default"in e&&typeof e.default=="function"?new e.default:e;const r=new u(t.port1,{channel:t,client:s});return typeof s=="object"&&"remoteClient"in s&&(s.remoteClient=r),u.clients.set(r,s),t.port2}static loadWorker(e){const t=U[e];return t?t():Promise.resolve(null)}constructor(e,t,s){this._port=e,this._jobQueue=s,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new te(r=>this._onInvokeMessage(r)),this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,this._schedule=t.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:k}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,s){return this.apply(e,[t],s)}apply(e,t,s){const r=s==null?void 0:s.signal,i=s==null?void 0:s.transferList;if(!this._port)return Promise.reject(new y("worker:port-closed",`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));const n=q();return new Promise((l,h)=>{if(J(r))return this._processWork(),void h(f());const p=j(r,()=>{const _=this._outJobs.get(n);_&&(this._outJobs.delete(n),this._processWork(),b(_.abortHandle),this._post({type:I,jobId:n}),h(f()))}),m={resolve:l,reject:h,abortHandle:p,debugInfo:e};this._outJobs.set(n,m),this._post({type:S,jobId:n,methodName:e,abortable:r!=null},t,i)})}createInvokeProxy(e){return N(this,e)}on(e,t){const s=new MessageChannel;function r(i){t(i.data)}return this._port.postMessage({type:c.ON,eventType:e,port:s.port2},[s.port2]),s.port1.addEventListener("message",r),s.port1.start(),T(()=>{s.port1.postMessage({type:c.CLOSE}),s.port1.close(),s.port1.removeEventListener("message",r)})}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:A,port:e.port2}),e.port1}_processWork(){var n;if(this._outJobs.size>=ee)return;const e=(n=this._jobQueue)==null?void 0:n.pop();if(!e)return;const{methodName:t,data:s,invokeOptions:r,resolver:i}=e;this.apply(t,s,r).then(l=>i.resolve(l)).catch(l=>i.reject(l))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{b(e.abortHandle),e.reject(f(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){this._schedule!=null?this._schedule(()=>this._processMessage(e)):this._processMessage(e)}_processMessage(e){const t=P(e);if(t)switch(t.type){case d:this._onResponseMessage(t);break;case S:this._invokeQueue.push(t);break;case I:this._onAbortMessage(t);break;case k:this._onCloseMessage();break;case A:this._onOpenPortMessage(t);break;case Z:this._onOnMessage(t)}}_onAbortMessage(e){const t=this._inJobs,s=e.jobId,r=t.get(s);this._invokeQueue.push(e),r&&(r.controller&&r.controller.abort(),t.delete(s))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&u.clients.get(this)===e&&e.destroy(),u.clients.delete(this),e!=null&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:t,jobId:s,data:r=[],abortable:i}=e,n=i?new AbortController:null,l=this._inJobs;let h,p=this._client,m=p[t];try{if(!m&&t&&t.includes(".")){const _=t.split(".");for(let g=0;g<_.length-1;g++)p=p[_[g]],m=p[_[g+1]]}if(typeof m!="function")throw new TypeError(`${t} is not a function`);r.push({client:this,signal:n?n.signal:null}),h=m.apply(p,r)}catch(_){return void this._post({type:d,jobId:s,error:E(_)})}L(h)?(l.set(s,{controller:n,promise:h}),h.then(_=>{l.has(s)&&(l.delete(s),this._post({type:d,jobId:s},_))},_=>{l.has(s)&&(l.delete(s),$(_)||this._post({type:d,jobId:s,error:E(_||{message:`Error encountered at method ${t}`})}))})):this._post({type:d,jobId:s},h)}_onOpenPortMessage(e){new u(e.port,{client:this._client})}_onOnMessage(e){const{port:t}=e,s=this._client.on(e.eventType,i=>{t.postMessage(i)}),r=W(e.port,"message",i=>{const n=P(i);(n==null?void 0:n.type)===c.CLOSE&&(r.remove(),s.remove(),t.close())})}_onResponseMessage(e){const{jobId:t,error:s,data:r}=e,i=this._outJobs;if(!i.has(t))return;const n=i.get(t);i.delete(t),this._processWork(),b(n.abortHandle),s?n.reject(y.fromJSON(JSON.parse(s))):n.resolve(r)}_post(e,t,s){return R(this._port,e,t,s)}}u.kernelInfo={buildDate:H,fullVersion:B,revision:K},u.clients=new Map;class _e{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new x}destroy(){this.close()}get closed(){var e;return!((e=this._clients)!=null&&e.length)}open(e,t){return new Promise((s,r)=>{let i=!0;const n=l=>{C(t.signal),i&&(i=!1,l())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let l=0;l<e.length;++l){const h=e[l];L(h)?this._clientPromises[l]=h.then(p=>(this._clients[l]=new u(p,t,this._ongoingJobsQueue),n(s),this._clients[l]),()=>(n(r),null)):(this._clients[l]=new u(h,t,this._ongoingJobsQueue),this._clientPromises[l]=Promise.resolve(this._clients[l]),n(s))}})}broadcast(e,t,s){const r=new Array(this._clientPromises.length);for(let i=0;i<this._clientPromises.length;++i){const n=this._clientPromises[i];r[i]=n.then(l=>l==null?void 0:l.invoke(e,t,s))}return r}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(f(`Worker closing, aborting job calling '${e.methodName}'`));for(const t of this._clientPromises)t.then(s=>s==null?void 0:s.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,F(this)}invoke(e,t,s){return this.apply(e,[t],s)}apply(e,t,s){const r=D();this._ongoingJobsQueue.push({methodName:e,data:t,invokeOptions:s,resolver:r});for(let i=0;i<this._clientPromises.length;i++){const n=this._clients[i];n?n.jobAdded():this._clientPromises[i].then(l=>l==null?void 0:l.jobAdded())}return r.promise}createInvokeProxy(e){return N(this,e)}on(e,t){return Promise.all(this._clientPromises).then(()=>V(this._clients.map(s=>s.on(e,t))))}openPorts(){return new Promise(e=>{const t=new Array(this._clientPromises.length);let s=t.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then(i=>{i&&(t[r]=i.openPort()),--s==0&&e(t)})})}get test(){return{numClients:this._clients.length}}}export{u as O,E as a,_e as b,H as c,he as d,K as e,R as f,P as i,q as r,x as s,c as t};
