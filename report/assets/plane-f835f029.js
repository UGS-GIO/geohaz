import{n as f,G as F,i as A,z as T,P as V}from"./mathUtils-19b6edfc.js";import"./vec42-a95eff2d.js";import{p as $}from"./subclass-f7409b1b.js";import{e as X}from"./mat3f64-e19cdcb8.js";import{e as b}from"./mat4f64-9a8384aa.js";import{e as x}from"./quatf64-81e039e4.js";import{n as C}from"./vec2f64-b65bfd66.js";import{n as L}from"./vec4f64-430e4feb.js";class r{constructor(e){this._create=e,this._items=new Array,this._itemsPtr=0}get(){return this._itemsPtr===0&&$(()=>this._reset()),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const e=2*this._itemsPtr;this._items.length>e&&(this._items.length=e),this._itemsPtr=0}static createVec2f64(){return new r(C)}static createVec3f64(){return new r(f)}static createVec4f64(){return new r(L)}static createMat3f64(){return new r(X)}static createMat4f64(){return new r(b)}static createQuatf64(){return new r(x)}get test(){return{length:this._items.length}}}r.createVec2f64();const D=r.createVec3f64();r.createVec4f64();r.createMat3f64();const H=r.createMat4f64(),J=r.createQuatf64();function y(t=q){return[t[0],t[1],t[2],t[3]]}function K(t){return t}function O(t,e,a,s=y()){const o=a[0]-e[0],h=a[1]-e[1],i=a[2]-e[2],c=t[0]-e[0],g=t[1]-e[1],w=t[2]-e[2],_=h*w-i*g,p=i*c-o*w,P=o*g-h*c,E=_*_+p*p+P*P,l=Math.abs(E-1)>1e-5&&E>1e-12?1/Math.sqrt(E):1;return s[0]=_*l,s[1]=p*l,s[2]=P*l,s[3]=-(s[0]*t[0]+s[1]*t[1]+s[2]*t[2]),s}function Q(t,e,a,s=0,o=Math.floor(a*(1/3)),h=Math.floor(a*(2/3))){if(a<3)return!1;e(I,s);let i=o,c=!1;for(;i<a-1&&!c;)e(n,i),i++,c=!F(I,n);if(!c)return!1;for(i=Math.max(i,h),c=!1;i<a&&!c;)e(m,i),i++,A(M,I,n),T(M,M),A(u,n,m),T(u,u),c=!F(I,m)&&!F(n,m)&&Math.abs(V(M,u))<k;return c?(O(I,n,m,t),!0):(s!==0||o!==1||h!==2)&&Q(t,e,a,0,1,2)}const k=.99619469809,I=f(),n=f(),m=f(),M=f(),u=f(),q=[0,0,1,0];var N;(function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"})(N||(N={}));N.INFINITE_MIN|N.INFINITE_MAX;N.INFINITE_MAX;export{y as E,K as F,Q as X,D as c,H as f,J as o};
