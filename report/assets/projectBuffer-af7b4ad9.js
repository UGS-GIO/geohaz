import{M as S0,e as l0,h as R0,l as t0}from"./mathUtils-19b6edfc.js";import{c as f,h as j,t as U,G as E0,W as u0,d as O0,C as P0,w as f0,i as L0,u as N0,S as M0,k as r0,p as i0,l as s0,m as c0}from"./SpatialReference-428523ee.js";const v0=Math.PI/180,D0=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,M=f.radius,P=f.eccentricitySquared,G0={a1:M*P,a2:M*P*M*P,a3:M*P*P/2,a4:M*P*M*P*2.5,a5:M*P+M*P*P/2,a6:1-P},z0={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:f.radius,f:f.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:j.radius,f:j.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:U.radius,f:U.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:U.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var a;(function(_){_[_.UNKNOWN=0]="UNKNOWN",_[_.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",_[_.WGS84=2]="WGS84",_[_.WEB_MERCATOR=3]="WEB_MERCATOR",_[_.WGS84_ECEF=4]="WGS84_ECEF",_[_.CGCS2000=5]="CGCS2000",_[_.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",_[_.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",_[_.GCSMARS2000=8]="GCSMARS2000",_[_.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",_[_.GCSMOON2000=10]="GCSMOON2000",_[_.LON_LAT=11]="LON_LAT",_[_.PLATE_CARREE=12]="PLATE_CARREE"})(a||(a={}));const A0={[a.WGS84]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:C,[a.SPHERICAL_ECEF]:d,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:m,[a.PLATE_CARREE]:s,[a.WGS84]:C,[a.WGS84_ECEF]:W},[a.CGCS2000]:{[a.CGCS2000]:C,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:C,[a.SPHERICAL_ECEF]:d,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:s,[a.WGS84]:null,[a.WGS84_ECEF]:W},[a.GCSMARS2000]:{[a.CGCS2000]:null,[a.GCSMARS2000]:C,[a.GCSMOON2000]:null,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:Z,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.GCSMOON2000]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:C,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:Y,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.WEB_MERCATOR]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:K,[a.WGS84_COMPARABLE_LON_LAT]:K,[a.SPHERICAL_ECEF]:o0,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:C,[a.PLATE_CARREE]:T0,[a.WGS84]:K,[a.WGS84_ECEF]:I0},[a.WGS84_ECEF]:{[a.CGCS2000]:o,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:o,[a.WGS84_COMPARABLE_LON_LAT]:o,[a.SPHERICAL_ECEF]:q0,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:j0,[a.PLATE_CARREE]:H0,[a.WGS84]:o,[a.WGS84_ECEF]:C},[a.SPHERICAL_ECEF]:{[a.CGCS2000]:G,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:G,[a.WGS84_COMPARABLE_LON_LAT]:G,[a.SPHERICAL_ECEF]:C,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:U0,[a.PLATE_CARREE]:d0,[a.WGS84]:G,[a.WGS84_ECEF]:K0},[a.SPHERICAL_MARS_PCPF]:{[a.CGCS2000]:null,[a.GCSMARS2000]:a0,[a.GCSMOON2000]:null,[a.LON_LAT]:a0,[a.WGS84_COMPARABLE_LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:C,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.SPHERICAL_MOON_PCPF]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:$,[a.LON_LAT]:$,[a.WGS84_COMPARABLE_LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:C,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.UNKNOWN]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:null,[a.WGS84_COMPARABLE_LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:C,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.LON_LAT]:{[a.CGCS2000]:C,[a.GCSMARS2000]:C,[a.GCSMOON2000]:C,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:C,[a.SPHERICAL_ECEF]:d,[a.SPHERICAL_MARS_PCPF]:Z,[a.SPHERICAL_MOON_PCPF]:Y,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:m,[a.PLATE_CARREE]:s,[a.WGS84]:C,[a.WGS84_ECEF]:W},[a.WGS84_COMPARABLE_LON_LAT]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:C,[a.WGS84_COMPARABLE_LON_LAT]:C,[a.SPHERICAL_ECEF]:d,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:s,[a.WGS84]:C,[a.WGS84_ECEF]:W},[a.PLATE_CARREE]:{[a.CGCS2000]:c,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:c,[a.WGS84_COMPARABLE_LON_LAT]:c,[a.SPHERICAL_ECEF]:p0,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:h0,[a.PLATE_CARREE]:C,[a.WGS84]:c,[a.WGS84_ECEF]:B0}};function J0(_){const A=z(_,k0);return A0[A][a.WGS84_COMPARABLE_LON_LAT]}function W0(_,A,e=n0()){return _==null||A==null?null:w0(_,A,e).projector}function z(_,A){return _?A.spatialReference===_?A.spatialReferenceId:(A.spatialReference=_,"metersPerUnit"in A&&(A.metersPerUnit=u0(_,1)),O0(_)?A.spatialReferenceId=a.SPHERICAL_ECEF:P0(_)?A.spatialReferenceId=a.WGS84:f0(_)?A.spatialReferenceId=a.WEB_MERCATOR:L0(_)?A.spatialReferenceId=a.PLATE_CARREE:_.wkt===N0.wkt?A.spatialReferenceId=a.WGS84_ECEF:_.wkid===M0.CGCS2000?A.spatialReferenceId=a.CGCS2000:_.wkt===r0.wkt?A.spatialReferenceId=a.SPHERICAL_MARS_PCPF:_.wkt===i0.wkt?A.spatialReferenceId=a.SPHERICAL_MOON_PCPF:s0(_)?A.spatialReferenceId=a.GCSMARS2000:c0(_)?A.spatialReferenceId=a.GCSMOON2000:A.spatialReferenceId=a.UNKNOWN):a.UNKNOWN}function C(_,A,e,n){_!==e&&(e[n++]=_[A++],e[n++]=_[A++],e[n]=_[A])}function K(_,A,e,n){e[n]=h*(_[A]/I),e[n+1]=h*(C0-2*Math.atan(Math.exp(-_[A+1]/I))),e[n+2]=_[A+2]}function o0(_,A,e,n){const l=_[A]/I,R=C0-2*Math.atan(Math.exp(-_[A+1]/I)),t=I+_[A+2],S=Math.cos(R)*t;e[n]=Math.cos(l)*S,e[n+1]=Math.sin(l)*S,e[n+2]=Math.sin(R)*t}function I0(_,A,e,n){K(_,A,e,n),W(e,n,e,n)}function F0(_,A,e,n,l){const R=.4999999*w,t=l0(p*_[A+1],-R,R),S=Math.sin(t);e[n++]=p*_[A]*l.radius,e[n++]=l.halfSemiMajorAxis*Math.log((1+S)/(1-S)),e[n]=_[A+2]}function m(_,A,e,n){F0(_,A,e,n,f)}function s(_,A,e,n){e[n]=_[A]*_0,e[n+1]=_[A+1]*_0,e[n+2]=_[A+2]}function c(_,A,e,n){e[n]=_[A]*e0,e[n+1]=_[A+1]*e0,e[n+2]=_[A+2]}function T0(_,A,e,n){K(_,A,e,n),s(e,n,e,n)}function H0(_,A,e,n){o(_,A,e,n),s(e,n,e,n)}function d0(_,A,e,n){G(_,A,e,n),s(e,n,e,n)}function p0(_,A,e,n){c(_,A,e,n),d(e,n,e,n)}function h0(_,A,e,n){c(_,A,e,n),m(e,n,e,n)}function B0(_,A,e,n){c(_,A,e,n),W(e,n,e,n)}function J(_,A,e,n,l){const R=l+_[A+2],t=p*_[A+1],S=p*_[A],E=Math.cos(t)*R;e[n]=Math.cos(S)*E,e[n+1]=Math.sin(S)*E,e[n+2]=Math.sin(t)*R}function Y(_,A,e,n){J(_,A,e,n,j.radius)}function Z(_,A,e,n){J(_,A,e,n,U.radius)}function d(_,A,e,n){J(_,A,e,n,f.radius)}function Q(_,A,e,n,l){const R=_[A],t=_[A+1],S=_[A+2],E=Math.sqrt(R*R+t*t+S*S),O=t0(S/(E===0?1:E)),u=Math.atan2(t,R);e[n++]=h*u,e[n++]=h*O,e[n]=E-l}function $(_,A,e,n){Q(_,A,e,n,j.radius)}function a0(_,A,e,n){Q(_,A,e,n,U.radius)}function G(_,A,e,n){Q(_,A,e,n,f.radius)}function U0(_,A,e,n){G(_,A,e,n),m(e,n,e,n)}function K0(_,A,e,n){G(_,A,e,n),W(e,n,e,n)}function m0(_,A,e,n,l){const R=p*_[A],t=p*_[A+1],S=_[A+2],E=Math.sin(t),O=Math.cos(t),u=l.radius/Math.sqrt(1-l.eccentricitySquared*E*E);e[n++]=(u+S)*O*Math.cos(R),e[n++]=(u+S)*O*Math.sin(R),e[n++]=(u*(1-l.eccentricitySquared)+S)*E}function W(_,A,e,n){m0(_,A,e,n,f)}function o(_,A,e,n){const l=G0,R=_[A],t=_[A+1],S=_[A+2];let E,O,u,r,i,k,q,L,N,B,g,y,b,F,T,x,v,D,H,V,X;E=Math.abs(S),O=R*R+t*t,u=Math.sqrt(O),r=O+S*S,i=Math.sqrt(r),V=Math.atan2(t,R),k=S*S/r,q=O/r,F=l.a2/i,T=l.a3-l.a4/i,q>.3?(L=E/i*(1+q*(l.a1+F+k*T)/i),H=Math.asin(L),B=L*L,N=Math.sqrt(1-B)):(N=u/i*(1-k*(l.a5-F-q*T)/i),H=Math.acos(N),B=1-N*N,L=Math.sqrt(B)),g=1-f.eccentricitySquared*B,y=f.radius/Math.sqrt(g),b=l.a6*y,F=u-y*N,T=E-b*L,v=N*F+L*T,x=N*T-L*F,D=x/(b/g+v),H+=D,X=v+x*D/2,S<0&&(H=-H),e[n++]=h*V,e[n++]=h*H,e[n]=X}function q0(_,A,e,n){o(_,A,e,n),d(e,n,e,n)}function j0(_,A,e,n){o(_,A,e,n),m(e,n,e,n)}function w0(_,A,e){if(_==null||A==null||e.source.spatialReference===_&&e.dest.spatialReference===A)return e;const n=z(_,e.source),l=z(A,e.dest);return n===a.UNKNOWN&&l===a.UNKNOWN?E0(_,A)?e.projector=C:e.projector=null:e.projector=A0[n][l],e}function n0(){return{source:{spatialReference:null,spatialReferenceId:a.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:a.UNKNOWN,metersPerUnit:1},projector:C}}const k0={spatialReference:null,spatialReferenceId:a.UNKNOWN},Q0={spatialReference:null,spatialReferenceId:a.UNKNOWN},g0=n0(),p=R0(1),h=S0(1),w=Math.PI,C0=.5*w,I=f.radius,_0=I*w/180,e0=180/(I*w);function y0(_,A,e,n,l,R,t=1){const S=W0(A,l,g0);if(S==null)return!1;if(S===C){if(_===n&&e===R)return!0;const O=e+3*t;for(let u=e,r=R;u<O;u++,r++)n[r]=_[u];return!0}const E=e+3*t;for(let O=e,u=R;O<E;O+=3,u+=3)S(_,O,n,u);return!0}const V0=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:y0},Symbol.toStringTag,{value:"Module"}));export{k0 as E,z as F,J0 as G,g0 as S,W0 as W,A0 as a,z0 as d,Q0 as e,v0 as i,y0 as n,a as o,V0 as p,D0 as t};
