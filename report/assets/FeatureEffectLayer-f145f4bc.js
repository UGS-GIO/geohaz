import{e as i,c as h}from"./subclass-f7409b1b.js";import{y as r,f as j}from"./JSONSupport-acf2865c.js";import"./typedArrayUtil-2af43698.js";import{b as c,a as y,o as b}from"./Error-21d1d076.js";import{a as g,b as S}from"./BlendLayer-2e0705c7.js";import{n as L}from"./geometry-31b45acd.js";import{c as N}from"./TimeExtent-579f0e32.js";import{s as $}from"./jsonMap-5ba4a9c2.js";import{b as U}from"./Query-aaf746b1.js";var m;const d=new $({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),f=new $({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let o=m=class extends j{constructor(t){super(t),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(t={}){const{where:e,geometry:s,spatialRelationship:n,timeExtent:l,objectIds:u,units:p,distance:I}=this;return new U({geometry:c(s),objectIds:c(u),spatialRelationship:n,timeExtent:c(l),where:e,units:p,distance:I,...t})}clone(){const{where:t,geometry:e,spatialRelationship:s,timeExtent:n,objectIds:l,units:u,distance:p}=this;return new m({geometry:c(e),objectIds:c(l),spatialRelationship:s,timeExtent:c(n),where:t,units:u,distance:p})}};i([r({type:String,json:{write:!0}})],o.prototype,"where",void 0),i([r({types:L,json:{write:!0}})],o.prototype,"geometry",void 0),i([r({type:d.apiValues,json:{name:"spatialRel",read:{reader:d.read},write:{allowNull:!1,writer:d.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],o.prototype,"spatialRelationship",void 0),i([r({type:Number,json:{write:{overridePolicy(t){return{enabled:t!=null&&this.geometry!=null}}}}})],o.prototype,"distance",void 0),i([r({type:[Number],json:{write:!0}})],o.prototype,"objectIds",void 0),i([r({type:f.apiValues,json:{read:f.read,write:{writer:f.write,overridePolicy(t){return{enabled:t!=null&&this.geometry!=null}}}}})],o.prototype,"units",void 0),i([r({type:N,json:{write:!0}})],o.prototype,"timeExtent",void 0),o=m=i([h("esri.layers.support.FeatureFilter")],o);const V=o;var w;const v={read:{reader:g},write:{writer:S,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},x={read:{reader:g},write:{writer:S,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},E={name:"showExcludedLabels",default:!0};let a=w=class extends j{constructor(t){super(t),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(t,e){var n,l;const s=super.write(t,e);if(e!=null&&e.origin){if(s.filter){const u=Object.keys(s.filter);if(u.length>1||u[0]!=="where")return(n=e.messages)==null||n.push(new y("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:e.layer,effect:this})),null}if("showExcludedLabels"in s)return(l=e.messages)==null||l.push(new y("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:e.layer,effect:this})),null}return s}clone(){return new w({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};i([r({type:V,json:{write:{allowNull:!0,writer(t,e,s,n){const l=t==null?void 0:t.write({},n);l&&Object.keys(l).length!==0?b(s,l,e):b(s,null,e)}}}})],a.prototype,"filter",void 0),i([r({json:{write:!0,origins:{"web-map":v,"portal-item":v}}})],a.prototype,"includedEffect",void 0),i([r({json:{write:!0,origins:{"web-map":x,"portal-item":x}}})],a.prototype,"excludedEffect",void 0),i([r({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":E,"portal-item":E}}})],a.prototype,"excludedLabelsVisible",void 0),a=w=i([h("esri.layers.support.FeatureEffect")],a);const _=a,R={write:{allowNull:!0}},D=t=>{let e=class extends t{constructor(){super(...arguments),this.featureEffect=null}};return i([r({type:_,json:{origins:{"web-map":R,"portal-item":R}}})],e.prototype,"featureEffect",void 0),e=i([h("esri.layers.mixins.FeatureEffectLayer")],e),e};export{V as d,_ as m,D as p};
