import{b as c,U as o}from"./request-a10d6950.js";function p(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function g(e){return(e==null?void 0:e.type)==="subtype-sublayer"}const b={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function d(e){const n=e==null?void 0:e.type;return n==="building-scene"||n==="integrated-mesh"||n==="point-cloud"||n==="scene"}function m(e){var n;return(e==null?void 0:e.type)==="feature"&&!e.url&&((n=e.source)==null?void 0:n.type)==="memory"}function w(e){var n;return((e==null?void 0:e.type)==="feature"||(e==null?void 0:e.type)==="subtype-group")&&((n=e.source)==null?void 0:n.type)==="feature-layer"}async function v(e,n){var i;const t=(i=c)==null?void 0:i.findServerInfo(e);if((t==null?void 0:t.currentVersion)!=null)return t.owningSystemUrl||null;const s=e.toLowerCase().indexOf("/rest/services");if(s===-1)return null;const u=`${e.substring(0,s)}/rest/info`,a=n!=null?n.signal:null,{data:r}=await o(u,{query:{f:"json"},responseType:"json",signal:a});return(r==null?void 0:r.owningSystemUrl)||null}function l(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function L(e){return l(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function y(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function h(e){return!!y(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}export{h as B,w as L,L as O,d as b,p as c,b as g,g as l,m as w,v as x};
